(function(e){var t={each:function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++){t(e[n])}return}t(e)},extendProto:function(e,t){var n;if(t==null)return;switch(typeof t){case"function":n=t.prototype;break;case"object":n=t;break;default:return}for(var r in n){e[r]=n[r]}},extendClass:function(e,t,n,r){if(typeof r!=="object")return;this.extendPrototype=r.__proto__==null?this.protoLess:this.proto;this.extendPrototype(e,t,n,r)},proto:function(e,n,r,i){var s=i,o=i;if(r!=null){o.__proto__={};t.each(r,function(e){t.extendProto(o.__proto__,e)});o=o.__proto__}if(n!=null){o.__proto__=n.prototype}e.prototype=s},protoLess:function(e,n,r,i){if(n!=null){var s={},o=new Function;o.prototype=n.prototype;e.prototype=new o;e.constructor=n}t.extendProto(e.prototype,i);if(r!=null){t.each(r,function(n){t.extendProto(e.prototype,n)})}}};e.Class=function(e){var n=e.Base,r=e.Extends,i=e.Static,s=e.Construct,o=null;if(n!=null)delete e.Base;if(r!=null)delete e.Extends;if(i!=null)delete e.Static;if(s!=null)delete e.Construct;if(n==null&&r==null){if(s==null)o=function(){};else o=s;if(i!=null){for(var u in i)o[u]=i[u]}o.prototype=e;return o}o=function(){if(r!=null){var e=r instanceof Array,t=e?r.length:1,i=null;for(var o=0;i=e?r[o]:r,e?o<t:o<1;o++){if(typeof i==="function")i.apply(this,arguments)}}if(n!=null){n.apply(this,arguments)}if(s!=null){var u=s.apply(this,arguments);if(u!=null)return u}return this};if(i!=null)for(var u in i)o[u]=i[u];t.extendClass(o,n,r,e);e=null;i=null;return o}})(window);void function(t,n){var r={},i={},s=!!(t.location&&t.location.protocol&&/^https?:/.test(t.location.protocol)),o={},u={name:new RegExp("\\{name\\}","g")},a={uri:{getDir:function(e){var t=e.lastIndexOf("/");return t==-1?"":e.substring(t+1,-t)},resolveCurrent:function(){var e=n.querySelectorAll("script");return e[e.length-1].getAttribute("src")},resolveUrl:function(e,t){if(r.path&&e[0]=="/"){e=r.path+e.substring(1)}if(e[0]=="/"){if(s==false||r.lockedToFolder==true)return e.substring(1);return e}switch(e.substring(0,4)){case"file":case"http":return e}if(t!=null&&t.location!=null)return t.location+e;return e}},extend:function(e,t){for(var n in t)e[n]=t[n];return e},eachIncludeItem:function(e,t,n,i,s){if(t==null){console.error("Include Item has no Data",e,i);return}if(e=="lazy"&&s==null){for(var o in t)this.eachIncludeItem(e,t[o],n,null,o);return}if(t instanceof Array){for(var a=0;a<t.length;a++)this.eachIncludeItem(e,t[a],n,i,s);return}if(typeof t==="object"){for(var o in t)this.eachIncludeItem(e,t[o],n,o,s);return}if(typeof t==="string"){var f=i&&r[i];if(f){i+="."+t;t=f.replace(u.name,t)}n(i,t,s);return}console.error("Include Package is invalid",arguments)},invokeEach:function(e,t){if(e==null)return;if(e instanceof Array){for(var n=0,r,i=e.length;r=e[n],n<i;n++){if(typeof r==="function")t!=null?r.apply(this,t):r()}}},doNothing:function(e){typeof e=="function"&&e()},reportError:function(e){console.error("IncludeJS Error:",e,e.message,e.url);typeof o.onerror=="function"&&o.onerror(e)},ensureArray:function(e,t){if(!t)return e;var n=t.split(".");while(n.length-1){var r=n.shift();e=e[r]||(e[r]={})}return e[n.shift()]=[]},xhr:function(e,t){var n=new XMLHttpRequest,r=Date.now();n.onreadystatechange=function(){n.readyState==4&&t&&t(e,n.responseText)};n.open("GET",e,true);n.send()}},f=function(e,t){if(t==null){return{ready:a.doNothing,load:a.doNothing}}var n=[],r=null,i=null,s=Date.now();t.onreadystatechange=function(){if(/complete|interactive/g.test(t.readyState)==false)return;if(s)console.log("DOMContentLoader",t.readyState,Date.now()-s,"ms");f.ready=f.readyQueue=a.doNothing;a.invokeEach(i);a.invokeEach(n);n=null;i=null;if(t.readyState=="complete"){f.load=a.doNothing;a.invokeEach(r);r=null}};return{ready:function(e){n.unshift(e)},readyQueue:function(e){(i||(i=[])).push(e)},load:function(e){(r||(r=[])).unshift(e)}}}(t,n);var l=Class({ready:function(e){return this.on(4,function(){f.ready(e)})},loaded:function(e){return this.on(4,function(){f.load(e)})},done:function(e){return this.on(4,this.resolve.bind(this,e))},resolve:function(e){var t=e(this.response);if(t!=null)this.obj=t}});var c=Class({Construct:function(){this.callbacks=[]},on:function(e,t){e<=this.state?t(this):this.callbacks.unshift({state:e,callback:t});return this},readystatechanged:function(e){this.state=e;for(var t=0,n,r=this.callbacks.length;n=this.callbacks[t],t<r;t++){if(n.state>this.state||n.callback==null)continue;n.callback(this);n.callback=null}}});var h;var p=Class({setCurrent:function(e){h=e},incl:function(e,t){if(this instanceof m)return this.include(e,t);var n=new m;if(h){n.id=h.id;n.namespace=h.namespace}return n.include(e,t)},js:function(e){return this.incl("js",e)},css:function(e){return this.incl("css",e)},load:function(e){return this.incl("load",e)},ajax:function(e){return this.incl("ajax",e)},embed:function(e){return this.incl("embed",e)},lazy:function(e){return this.incl("lazy",e)},cfg:function(e){switch(typeof e){case"object":for(var t in e)r[t]=e[t];break;case"string":if(arguments.length==1)return r[e];if(arguments.length==2)r[e]=arguments[1];break;case"undefined":return r}return this},promise:function(e){var n=e.split("."),r=t;while(n.length){var i=n.shift();r=r[i]||(r[i]={})}return r},register:function(e){var t=[];for(var r in e){for(var s=0;s<e[r].length;s++){var o=e[r][s].id,u=e[r][s].url,l=e[r][s].namespace,c=new m;c.state=4;c.namespace=l;if(u){if(u[0]=="/")u=u.substring(1);c.location=a.uri.getDir(u)}switch(r){case"load":case"lazy":c.state=0;f.readyQueue(function(e,t){var r=n.querySelector('script[data-id="'+t+'"]');if(r==null){console.error('"%s" Data was not embedded into html',t);return}e.obj=r.innerHTML;e.readystatechanged(4)}.bind(this,c,o));break}(i[r]||(i[r]={}))[o]=c}}}});var d=typeof IncludeRewrites!="undefined",v=d?IncludeRewrites:null;var m=Class({Base:p,Extends:[l,c],Construct:function(e,t,r,s,o,u){if(e==null){return this}this.namespace=r;this.type=e;this.xpath=s;this.url=t;if(t!=null){this.url=a.uri.resolveUrl(t,o)}if(u)void 0;else if(r)u=r;else if(t[0]=="/")u=t;else if(o&&o.namespace)u=o.namespace+"/"+t;else if(o&&o.location)u="/"+o.location.replace(/^[\/]+/,"")+t;else u="/"+t;if(i[e]&&i[e][u]){return i[e][u]}if(d==true&&v[u]!=null){t=v[u]}else{t=this.url}this.location=a.uri.getDir(t);(i[e]||(i[e]={}))[u]=this;var f;switch(e){case"js":a.xhr(t,this.onload.bind(this));if(n!=null){f=n.createElement("script");f.type="application/x-included-placeholder";f.src=t}break;case"ajax":case"load":case"lazy":a.xhr(t,this.onload.bind(this));break;case"css":this.state=4;f=n.createElement("link");f.href=t;f.rel="stylesheet";f.type="text/css";break;case"embed":f=n.createElement("script");f.type="application/javascript";f.src=t;f.onload=function(){this.readystatechanged(4)}.bind(this);f.onerror=f.onload;break}if(f!=null){n.querySelector("head").appendChild(f);f=null}return this},include:function(e,t){this.state=0;if(this.includes==null)this.includes=[];a.eachIncludeItem(e,t,function(t,n,r){var i=new m(e,n,t,r,this);this.includes.push(i);i.index=this.calcIndex(e,t);i.on(4,this.resourceLoaded.bind(this))}.bind(this));return this},calcIndex:function(e,t){if(this.response==null)this.response={};switch(e){case"js":case"load":case"ajax":if(this.response[e+"Index"]==null)this.response[e+"Index"]=-1;return++this.response[e+"Index"]}return-1},wait:function(){if(this.waits==null)this.waits=[];if(this._include==null)this._include=this.include;var e;this.waits.push(e=[]);this.include=function(t,n){e.push({type:t,pckg:n});return this};return this},resourceLoaded:function(e){if(this.parsing)return;if(e!=null&&e.obj!=null&&e.obj instanceof p===false){switch(e.type){case"js":case"load":case"ajax":var t=this.response[e.type]||(this.response[e.type]=[]);if(e.namespace!=null){t=a.ensureArray(t,e.namespace)}t[e.index]=e.obj;break}}if(this.includes!=null&&this.includes.length){for(var n=0;n<this.includes.length;n++)if(this.includes[n].state!=4)return}if(this.waits&&this.waits.length){var r=this.waits.shift();this.include=this._include;for(var n=0;n<r.length;n++)this.include(r[n].type,r[n].pckg);return}this.readystatechanged(this.state=4)},onload:function(e,t){if(!t){console.warn("Resource cannt be loaded",this.url);this.readystatechanged(4);return}switch(this.type){case"load":case"ajax":this.obj=t;break;case"lazy":g.create(this.xpath,t);break;case"js":this.parsing=true;try{__includeEval(t,this)}catch(n){n.url=this.url;a.reportError(n)}break}this.parsing=false;this.resourceLoaded(null)}});var g={create:function(t,n){var r=t.split("."),i=window,s=r[r.length-1];while(r.length>1){var o=r.shift();i=i[o]||(i[o]={})}r=null;i.__defineGetter__(s,function(){delete i[s];try{var r=__includeEval(n,window.include);if(r!=null)i[s]=r}catch(o){o.xpath=t;a.reportError(e)}finally{n=null;t=null;return i[s]}})}};t.include=new p;t.include.helper=a;t.IncludeResource=m}(window,window.document);window.__includeEval=function(source,include){return eval(source)};include.cfg({lib:"file:///c:/Development/libjs/{name}/lib/{name}.js",framework:"file:///c:/Development/libjs/framework/lib/{name}.js",compo:"file:///c:/Development/libjs/compos/{name}/lib/{name}.js",lockedToFolder:true,controller:"/script/component/{name}.js",uicontrol:"/script/control/{name}.js"});include.register({css:[{id:"/style/main.css",url:"style/main.css",namespace:""},{id:"controller.view/view.css",url:"view.css"},{id:"compo.prism/prism.lib.css",url:"prism.lib.css"}],lazy:[{id:"framework.animation",url:"file:///c:/Development/libjs/framework/lib/animation.js",namespace:"framework.animation"}],js:[{id:"/file:///c:/Development/libjs/class/lib/class.js",url:"file:///c:/Development/libjs/class/lib/class.js"},{id:"/file:///c:/Development/libjs/include/lib/include.js",url:"file:///c:/Development/libjs/include/lib/include.js"},{id:"framework.dom/zepto",url:"file:///c:/Development/libjs/framework/lib/dom/zepto.js",namespace:"framework.dom/zepto"},{id:"framework.ruqq.base",url:"file:///c:/Development/libjs/framework/lib/ruqq.base.js",namespace:"framework.ruqq.base"},{id:"framework.utils",url:"file:///c:/Development/libjs/framework/lib/utils.js",namespace:"framework.utils"},{id:"framework.animation",url:"file:///c:/Development/libjs/framework/lib/animation.js",namespace:"framework.animation"},{id:"lib.mask",url:"file:///c:/Development/libjs/mask/lib/mask.js",namespace:"lib.mask"},{id:"lib.compo",url:"file:///c:/Development/libjs/compo/lib/compo.js",namespace:"lib.compo"},{id:"compo.scroller/iscroll-full.js",url:"iscroll-full.js"},{id:"compo.scroller",url:"file:///c:/Development/libjs/compos/scroller/lib/scroller.js",namespace:"compo.scroller"},{id:"compo.prism/prism.lib.js",url:"prism.lib.js"},{id:"compo.prism",url:"file:///c:/Development/libjs/compos/prism/lib/prism.js",namespace:"compo.prism"},{id:"controller.viewsManager",url:"/script/component/viewsManager.js",namespace:"controller.viewsManager"},{id:"controller.view",url:"/script/component/view.js",namespace:"controller.view"},{id:"uicontrol.radioButtons",url:"/script/control/radioButtons.js",namespace:"uicontrol.radioButtons"},{id:"uicontrol.pageActivity",url:"/script/control/pageActivity.js",namespace:"uicontrol.pageActivity"},{id:"/script/main.js",url:"script/main.js"}]});include.setCurrent({id:"framework.dom/zepto",namespace:"framework.dom/zepto",url:""});(function(e){if(String.prototype.trim===e)String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")};if(Array.prototype.reduce===e)Array.prototype.reduce=function(t){if(this===void 0||this===null)throw new TypeError;var n=Object(this),r=n.length>>>0,i=0,s;if(typeof t!="function")throw new TypeError;if(r==0&&arguments.length==1)throw new TypeError;if(arguments.length>=2)s=arguments[1];else do{if(i in n){s=n[i++];break}if(++i>=r)throw new TypeError}while(true);while(i<r){if(i in n)s=t.call(e,s,n[i],i,n);i++}return s}})();var Zepto=function(){function C(e){return E.call(e)=="[object Function]"}function k(e){return e instanceof Object}function L(t){var n,r;if(E.call(t)!=="[object Object]")return false;r=C(t.constructor)&&t.constructor.prototype;if(!r||!hasOwnProperty.call(r,"isPrototypeOf"))return false;for(n in t);return n===e||hasOwnProperty.call(t,n)}function A(e){return e instanceof Array}function O(e){return typeof e.length=="number"}function M(t){return t.filter(function(t){return t!==e&&t!==null})}function _(e){return e.length>0?[].concat.apply([],e):e}function D(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function P(e){return e in a?a[e]:a[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function H(e,t){return typeof t=="number"&&!l[D(e)]?t+"px":t}function B(e){var t,n;if(!u[e]){t=o.createElement(e);o.body.appendChild(t);n=f(t,"").getPropertyValue("display");t.parentNode.removeChild(t);n=="none"&&(n="block");u[e]=n}return u[e]}function j(t,r){return r===e?n(t):n(t).filter(r)}function F(e,t,n,r){return C(t)?t.call(e,n,r):t}function I(e,t,r){var i=e%2?t:t.parentNode;i?i.insertBefore(r,!e?t.nextSibling:e==1?i.firstChild:e==2?t:null):n(r).remove()}function q(e,t){t(e);for(var n in e.childNodes)q(e.childNodes[n],t)}var e,t,n,r,i=[],s=i.slice,o=window.document,u={},a={},f=o.defaultView.getComputedStyle,l={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},c=/^\s*<(\w+|!)[^>]*>/,h=[1,3,8,9,11],p=["after","prepend","before","append"],d=o.createElement("table"),v=o.createElement("tr"),m={tr:o.createElement("tbody"),tbody:d,thead:d,tfoot:d,td:v,th:v,"*":o.createElement("div")},g=/complete|loaded|interactive/,y=/^\.([\w-]+)$/,b=/^#([\w-]+)$/,w=/^[\w-]+$/,E={}.toString,S={},x,T,N=o.createElement("div");S.matches=function(e,t){if(!e||e.nodeType!==1)return false;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,s=!i;if(s)(i=N).appendChild(e);r=~S.qsa(i,t).indexOf(e);s&&N.removeChild(e);return r};x=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})};T=function(e){return e.filter(function(t,n){return e.indexOf(t)==n})};S.fragment=function(t,r){if(r===e)r=c.test(t)&&RegExp.$1;if(!(r in m))r="*";var i=m[r];i.innerHTML=""+t;return n.each(s.call(i.childNodes),function(){i.removeChild(this)})};S.Z=function(e,t){e=e||[];e.__proto__=arguments.callee.prototype;e.selector=t||"";return e};S.isZ=function(e){return e instanceof S.Z};S.init=function(t,r){if(!t)return S.Z();else if(C(t))return n(o).ready(t);else if(S.isZ(t))return t;else{var i;if(A(t))i=M(t);else if(L(t))i=[n.extend({},t)],t=null;else if(h.indexOf(t.nodeType)>=0||t===window)i=[t],t=null;else if(c.test(t))i=S.fragment(t.trim(),RegExp.$1),t=null;else if(r!==e)return n(r).find(t);else i=S.qsa(o,t);return S.Z(i,t)}};n=function(e,t){return S.init(e,t)};n.extend=function(n){s.call(arguments,1).forEach(function(r){for(t in r)if(r[t]!==e)n[t]=r[t]});return n};S.qsa=function(e,t){var n;return e===o&&b.test(t)?(n=e.getElementById(RegExp.$1))?[n]:i:e.nodeType!==1&&e.nodeType!==9?i:s.call(y.test(t)?e.getElementsByClassName(RegExp.$1):w.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t))};n.isFunction=C;n.isObject=k;n.isArray=A;n.isPlainObject=L;n.inArray=function(e,t,n){return i.indexOf.call(t,e,n)};n.trim=function(e){return e.trim()};n.uuid=0;n.map=function(e,t){var n,r=[],i,s;if(O(e))for(i=0;i<e.length;i++){n=t(e[i],i);if(n!=null)r.push(n)}else for(s in e){n=t(e[s],s);if(n!=null)r.push(n)}return _(r)};n.each=function(e,t){var n,r;if(O(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===false)return e}else{for(r in e)if(t.call(e[r],r,e[r])===false)return e}return e};n.fn={forEach:i.forEach,reduce:i.reduce,push:i.push,indexOf:i.indexOf,concat:i.concat,map:function(e){return n.map(this,function(t,n){return e.call(t,n,t)})},slice:function(){return n(s.apply(this,arguments))},ready:function(e){if(g.test(o.readyState))e(n);else o.addEventListener("DOMContentLoaded",function(){e(n)},false);return this},get:function(t){return t===e?s.call(this):this[t]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){if(this.parentNode!=null)this.parentNode.removeChild(this)})},each:function(e){this.forEach(function(t,n){e.call(t,n,t)});return this},filter:function(e){return n([].filter.call(this,function(t){return S.matches(t,e)}))},add:function(e,t){return n(T(this.concat(n(e,t))))},is:function(e){return this.length>0&&S.matches(this[0],e)},not:function(t){var r=[];if(C(t)&&t.call!==e)this.each(function(e){if(!t.call(this,e))r.push(this)});else{var i=typeof t=="string"?this.filter(t):O(t)&&C(t.item)?s.call(t):n(t);this.forEach(function(e){if(i.indexOf(e)<0)r.push(e)})}return n(r)},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!k(e)?e:n(e)},last:function(){var e=this[this.length-1];return e&&!k(e)?e:n(e)},find:function(e){var t;if(this.length==1)t=S.qsa(this[0],e);else t=this.map(function(){return S.qsa(this,e)});return n(t)},closest:function(e,t){var r=this[0];while(r&&!S.matches(r,e))r=r!==t&&r!==o&&r.parentNode;return n(r)},parents:function(e){var t=[],r=this;while(r.length>0)r=n.map(r,function(e){if((e=e.parentNode)&&e!==o&&t.indexOf(e)<0){t.push(e);return e}});return j(t,e)},parent:function(e){return j(T(this.pluck("parentNode")),e)},children:function(e){return j(this.map(function(){return s.call(this.children)}),e)},siblings:function(e){return j(this.map(function(e,t){return s.call(t.parentNode.children).filter(function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return this.map(function(){return this[e]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=null);if(f(this,"").getPropertyValue("display")=="none")this.style.display=B(this.nodeName)})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return this.each(function(){n(this).wrapAll(n(e)[0].cloneNode(false))})},wrapAll:function(e){if(this[0]){n(this[0]).before(e=n(e));e.append(this)}return this},unwrap:function(){this.parent().each(function(){n(this).replaceWith(n(this).children())});return this},clone:function(){return n(this.map(function(){return this.cloneNode(true)}))},hide:function(){return this.css("display","none")},toggle:function(t){return(t===e?this.css("display")=="none":t)?this.show():this.hide()},prev:function(){return n(this.pluck("previousElementSibling"))},next:function(){return n(this.pluck("nextElementSibling"))},html:function(t){return t===e?this.length>0?this[0].innerHTML:null:this.each(function(e){var r=this.innerHTML;n(this).empty().append(F(this,t,e,r))})},text:function(t){return t===e?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=t})},attr:function(n,r){var i;return typeof n=="string"&&r===e?this.length==0||this[0].nodeType!==1?e:n=="value"&&this[0].nodeName=="INPUT"?this.val():!(i=this[0].getAttribute(n))&&n in this[0]?this[0][n]:i:this.each(function(e){if(this.nodeType!==1)return;if(k(n))for(t in n)this.setAttribute(t,n[t]);else this.setAttribute(n,F(this,r,e,this.getAttribute(n)))})},removeAttr:function(e){return this.each(function(){if(this.nodeType===1)this.removeAttribute(e)})},prop:function(t,n){return n===e?this[0]?this[0][t]:e:this.each(function(e){this[t]=F(this,n,e,this[t])})},data:function(t,n){var r=this.attr("data-"+D(t),n);return r!==null?r:e},val:function(t){return t===e?this.length>0?this[0].value:e:this.each(function(e){this.value=F(this,t,e,this.value)})},offset:function(){if(this.length==0)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:e.width,height:e.height}},css:function(n,r){if(r===e&&typeof n=="string")return this.length==0?e:this[0].style[x(n)]||f(this[0],"").getPropertyValue(n);var i="";for(t in n)if(typeof n[t]=="string"&&n[t]=="")this.each(function(){this.style.removeProperty(D(t))});else i+=D(t)+":"+H(t,n[t])+";";if(typeof n=="string")if(r=="")this.each(function(){this.style.removeProperty(D(n))});else i=D(n)+":"+H(n,r);return this.each(function(){this.style.cssText+=";"+i})},index:function(e){return e?this.indexOf(n(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){if(this.length<1)return false;else return P(e).test(this[0].className)},addClass:function(e){return this.each(function(t){r=[];var i=this.className,s=F(this,e,t,i);s.split(/\s+/g).forEach(function(e){if(!n(this).hasClass(e))r.push(e)},this);r.length&&(this.className+=(i?" ":"")+r.join(" "))})},removeClass:function(t){return this.each(function(n){if(t===e)return this.className="";r=this.className;F(this,t,n,r).split(/\s+/g).forEach(function(e){r=r.replace(P(e)," ")});this.className=r.trim()})},toggleClass:function(t,r){return this.each(function(i){var s=F(this,t,i,this.className);(r===e?!n(this).hasClass(s):r)?n(this).addClass(s):n(this).removeClass(s)})}};["width","height"].forEach(function(t){n.fn[t]=function(r){var i,s=t.replace(/./,function(e){return e[0].toUpperCase()});if(r===e)return this[0]==window?window["inner"+s]:this[0]==o?o.documentElement["offset"+s]:(i=this.offset())&&i[t];else return this.each(function(e){var i=n(this);i.css(t,F(this,r,e,i[t]()))})}});p.forEach(function(e,t){n.fn[e]=function(){var e=n.map(arguments,function(e){return k(e)?e:S.fragment(e)});if(e.length<1)return this;var r=this.length,i=r>1,s=t<2;return this.each(function(n,o){for(var u=0;u<e.length;u++){var a=e[s?e.length-u-1:u];q(a,function(e){if(e.nodeName!=null&&e.nodeName.toUpperCase()==="SCRIPT"&&(!e.type||e.type==="text/javascript"))window["eval"].call(window,e.innerHTML)});if(i&&n<r-1)a=a.cloneNode(true);I(t,o,a)}})};n.fn[t%2?e+"To":"insert"+(t?"Before":"After")]=function(t){n(t)[e](this);return this}});S.Z.prototype=n.fn;S.camelize=x;S.uniq=T;n.zepto=S;return n}();window.Zepto=Zepto;"$"in window||(window.$=Zepto);(function(e){function s(e){return e._zid||(e._zid=r++)}function o(e,t,r,i){t=u(t);if(t.ns)var o=a(t.ns);return(n[s(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||o.test(e.ns))&&(!r||s(e.fn)===s(r))&&(!i||e.sel==i)})}function u(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function a(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function f(t,n,r){if(e.isObject(t))e.each(t,r);else t.split(/\s/).forEach(function(e){r(e,n)})}function l(t,r,i,o,a,l){l=!!l;var c=s(t),h=n[c]||(n[c]=[]);f(r,i,function(n,r){var i=a&&a(r,n),s=i||r;var f=function(e){var n=s.apply(t,[e].concat(e.data));if(n===false)e.preventDefault();return n};var c=e.extend(u(n),{fn:r,proxy:f,sel:o,del:i,i:h.length});h.push(c);t.addEventListener(c.e,f,l)})}function c(e,t,r,i){var u=s(e);f(t||"",r,function(t,r){o(e,t,r,i).forEach(function(t){delete n[u][t.i];e.removeEventListener(t.e,t.proxy,false)})})}function v(t){var n=e.extend({originalEvent:t},t);e.each(d,function(e,r){n[e]=function(){this[r]=h;return t[e].apply(t,arguments)};n[r]=p});return n}function m(e){if(!("defaultPrevented"in e)){e.defaultPrevented=false;var t=e.preventDefault;e.preventDefault=function(){this.defaultPrevented=true;t.call(this)}}}var t=e.zepto.qsa,n={},r=1,i={};i.click=i.mousedown=i.mouseup=i.mousemove="MouseEvents";e.event={add:l,remove:c};e.proxy=function(t,n){if(e.isFunction(t)){var r=function(){return t.apply(n,arguments)};r._zid=s(t);return r}else if(typeof n=="string"){return e.proxy(t[n],t)}else{throw new TypeError("expected function")}};e.fn.bind=function(e,t){return this.each(function(){l(this,e,t)})};e.fn.unbind=function(e,t){return this.each(function(){c(this,e,t)})};e.fn.one=function(e,t){return this.each(function(n,r){l(this,e,t,null,function(e,t){return function(){var n=e.apply(r,arguments);c(r,t,e);return n}})})};var h=function(){return true},p=function(){return false},d={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(t,n,r){var i=false;if(n=="blur"||n=="focus"){if(e.iswebkit)n=n=="blur"?"focusout":n=="focus"?"focusin":n;else i=true}return this.each(function(s,o){l(o,n,r,t,function(n){return function(r){var i,s=e(r.target).closest(t,o).get(0);if(s){i=e.extend(v(r),{currentTarget:s,liveFired:o});return n.apply(s,[i].concat([].slice.call(arguments,1)))}}},i)})};e.fn.undelegate=function(e,t,n){return this.each(function(){c(this,t,n,e)})};e.fn.live=function(t,n){e(document.body).delegate(this.selector,t,n);return this};e.fn.die=function(t,n){e(document.body).undelegate(this.selector,t,n);return this};e.fn.on=function(t,n,r){return n==undefined||e.isFunction(n)?this.bind(t,n):this.delegate(n,t,r)};e.fn.off=function(t,n,r){return n==undefined||e.isFunction(n)?this.unbind(t,n):this.undelegate(n,t,r)};e.fn.trigger=function(t,n){if(typeof t=="string")t=e.Event(t);m(t);t.data=n;return this.each(function(){if("dispatchEvent"in this)this.dispatchEvent(t)})};e.fn.triggerHandler=function(t,n){var r,i;this.each(function(s,u){r=v(typeof t=="string"?e.Event(t):t);r.data=n;r.target=u;e.each(o(u,t.type||t),function(e,t){i=t.proxy(r);if(r.isImmediatePropagationStopped())return false})});return i};("focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout "+"change select keydown keypress keyup error").split(" ").forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}});["focus","blur"].forEach(function(t){e.fn[t]=function(e){if(e)this.bind(t,e);else if(this.length)try{this.get(0)[t]()}catch(n){}return this}});e.Event=function(e,t){var n=document.createEvent(i[e]||"Events"),r=true;if(t)for(var s in t)s=="bubbles"?r=!!t[s]:n[s]=t[s];n.initEvent(e,r,true,null,null,null,null,null,null,null,null,null,null,null,null);return n}})(Zepto);(function(e){function t(e){var t=this.os={},n=this.browser={},r=e.match(/WebKit\/([\d.]+)/),i=e.match(/(Android)\s+([\d.]+)/),s=e.match(/(iPad).*OS\s([\d_]+)/),o=!s&&e.match(/(iPhone\sOS)\s([\d_]+)/),u=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),a=u&&e.match(/TouchPad/),f=e.match(/Kindle\/([\d.]+)/),l=e.match(/Silk\/([\d._]+)/),c=e.match(/(BlackBerry).*Version\/([\d.]+)/);if(n.webkit=!!r)n.version=r[1];if(i)t.android=true,t.version=i[2];if(o)t.ios=t.iphone=true,t.version=o[2].replace(/_/g,".");if(s)t.ios=t.ipad=true,t.version=s[2].replace(/_/g,".");if(u)t.webos=true,t.version=u[2];if(a)t.touchpad=true;if(c)t.blackberry=true,t.version=c[2];if(f)t.kindle=true,t.version=f[1];if(l)n.silk=true,n.version=l[1];if(!l&&t.android&&e.match(/Kindle Fire/))n.silk=true}t.call(e,navigator.userAgent);e.__detect=t})(Zepto);(function(e,t){function c(e){return e.toLowerCase()}function h(e){return r?r+e:c(e)}var n="",r,i,s,o={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},u=window.document,a=u.createElement("div"),f=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,l={};e.each(o,function(e,i){if(a.style[e+"TransitionProperty"]!==t){n="-"+c(e)+"-";r=i;return false}});l[n+"transition-property"]=l[n+"transition-duration"]=l[n+"transition-timing-function"]=l[n+"animation-name"]=l[n+"animation-duration"]="";e.fx={off:r===t&&a.style.transitionProperty===t,cssPrefix:n,transitionEnd:h("TransitionEnd"),animationEnd:h("AnimationEnd")};e.fn.animate=function(t,n,r,i){if(e.isObject(n))r=n.easing,i=n.complete,n=n.duration;if(n)n=n/1e3;return this.anim(t,n,r,i)};e.fn.anim=function(r,i,s,o){var u,a={},c,h=this,p,d=e.fx.transitionEnd;if(i===t)i=.4;if(e.fx.off)i=0;if(typeof r=="string"){a[n+"animation-name"]=r;a[n+"animation-duration"]=i+"s";d=e.fx.animationEnd}else{for(c in r)if(f.test(c)){u||(u=[]);u.push(c+"("+r[c]+")")}else a[c]=r[c];if(u)a[n+"transform"]=u.join(" ");if(!e.fx.off&&typeof r==="object"){a[n+"transition-property"]=Object.keys(r).join(", ");a[n+"transition-duration"]=i+"s";a[n+"transition-timing-function"]=s||"linear"}}p=function(t){if(typeof t!=="undefined"){if(t.target!==t.currentTarget)return;e(t.target).unbind(d,arguments.callee)}e(this).css(l);o&&o.call(this)};if(i>0)this.bind(d,p);setTimeout(function(){h.css(a);if(i<=0)setTimeout(function(){h.each(function(){p.call(this)})},0)},0);return this};a=null})(Zepto);(function($){function triggerAndReturn(e,t,n){var r=$.Event(t);$(e).trigger(r,n);return!r.defaultPrevented}function triggerGlobal(e,t,n,r){if(e.global)return triggerAndReturn(t||document,n,r)}function ajaxStart(e){if(e.global&&$.active++===0)triggerGlobal(e,null,"ajaxStart")}function ajaxStop(e){if(e.global&&!--$.active)triggerGlobal(e,null,"ajaxStop")}function ajaxBeforeSend(e,t){var n=t.context;if(t.beforeSend.call(n,e,t)===false||triggerGlobal(t,n,"ajaxBeforeSend",[e,t])===false)return false;triggerGlobal(t,n,"ajaxSend",[e,t])}function ajaxSuccess(e,t,n){var r=n.context,i="success";n.success.call(r,e,i,t);triggerGlobal(n,r,"ajaxSuccess",[t,n,e]);ajaxComplete(i,t,n)}function ajaxError(e,t,n,r){var i=r.context;r.error.call(i,n,t,e);triggerGlobal(r,i,"ajaxError",[n,r,e]);ajaxComplete(t,n,r)}function ajaxComplete(e,t,n){var r=n.context;n.complete.call(r,t,e);triggerGlobal(n,r,"ajaxComplete",[t,n]);ajaxStop(n)}function empty(){}function mimeToDataType(e){return e&&(e==htmlType?"html":e==jsonType?"json":scriptTypeRE.test(e)?"script":xmlTypeRE.test(e)&&"xml")||"text"}function appendQuery(e,t){return(e+"&"+t).replace(/[&?]{1,2}/,"?")}function serializeData(e){if(isObject(e.data))e.data=$.param(e.data);if(e.data&&(!e.type||e.type.toUpperCase()=="GET"))e.url=appendQuery(e.url,e.data)}function serialize(e,t,n,r){var i=$.isArray(t);$.each(t,function(t,s){if(r)t=n?r:r+"["+(i?"":t)+"]";if(!r&&i)e.add(s.name,s.value);else if(n?$.isArray(s):isObject(s))serialize(e,s,n,t);else e.add(t,s)})}var jsonpID=0,isObject=$.isObject,document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/;$.active=0;$.ajaxJSONP=function(e){var t="jsonp"+ ++jsonpID,n=document.createElement("script"),r=function(){$(n).remove();if(t in window)window[t]=empty;ajaxComplete("abort",i,e)},i={abort:r},s;if(e.error)n.onerror=function(){i.abort();e.error()};window[t]=function(r){clearTimeout(s);$(n).remove();delete window[t];ajaxSuccess(r,i,e)};serializeData(e);n.src=e.url.replace(/=\?/,"="+t);$("head").append(n);if(e.timeout>0)s=setTimeout(function(){i.abort();ajaxComplete("timeout",i,e)},e.timeout);return i};$.ajaxSettings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:true,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:false,timeout:0};$.ajax=function(options){var settings=$.extend({},options||{});for(key in $.ajaxSettings)if(settings[key]===undefined)settings[key]=$.ajaxSettings[key];ajaxStart(settings);if(!settings.crossDomain)settings.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(settings.url)&&RegExp.$2!=window.location.host;var dataType=settings.dataType,hasPlaceholder=/=\?/.test(settings.url);if(dataType=="jsonp"||hasPlaceholder){if(!hasPlaceholder)settings.url=appendQuery(settings.url,"callback=?");return $.ajaxJSONP(settings)}if(!settings.url)settings.url=window.location.toString();serializeData(settings);var mime=settings.accepts[dataType],baseHeaders={},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=$.ajaxSettings.xhr(),abortTimeout;if(!settings.crossDomain)baseHeaders["X-Requested-With"]="XMLHttpRequest";if(mime){baseHeaders["Accept"]=mime;if(mime.indexOf(",")>-1)mime=mime.split(",",2)[0];xhr.overrideMimeType&&xhr.overrideMimeType(mime)}if(settings.contentType||settings.data&&settings.type.toUpperCase()!="GET")baseHeaders["Content-Type"]=settings.contentType||"application/x-www-form-urlencoded";settings.headers=$.extend(baseHeaders,settings.headers||{});xhr.onreadystatechange=function(){if(xhr.readyState==4){clearTimeout(abortTimeout);var result,error=false;if(xhr.status>=200&&xhr.status<300||xhr.status==304||xhr.status==0&&protocol=="file:"){dataType=dataType||mimeToDataType(xhr.getResponseHeader("content-type"));result=xhr.responseText;try{if(dataType=="script")(1,eval)(result);else if(dataType=="xml")result=xhr.responseXML;else if(dataType=="json")result=blankRE.test(result)?null:JSON.parse(result)}catch(e){error=e}if(error)ajaxError(error,"parsererror",xhr,settings);else ajaxSuccess(result,xhr,settings)}else{ajaxError(null,"error",xhr,settings)}}};var async="async"in settings?settings.async:true;xhr.open(settings.type,settings.url,async);for(name in settings.headers)xhr.setRequestHeader(name,settings.headers[name]);if(ajaxBeforeSend(xhr,settings)===false){xhr.abort();return false}if(settings.timeout>0)abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty;xhr.abort();ajaxError(null,"timeout",xhr,settings)},settings.timeout);xhr.send(settings.data?settings.data:null);return xhr};$.get=function(e,t){return $.ajax({url:e,success:t})};$.post=function(e,t,n,r){if($.isFunction(t))r=r||n,n=t,t=null;return $.ajax({type:"POST",url:e,data:t,success:n,dataType:r})};$.getJSON=function(e,t){return $.ajax({url:e,success:t,dataType:"json"})};$.fn.load=function(e,t){if(!this.length)return this;var n=this,r=e.split(/\s/),i;if(r.length>1)e=r[0],i=r[1];$.get(e,function(e){n.html(i?$(document.createElement("div")).html(e.replace(rscript,"")).find(i).html():e);t&&t.call(n)});return this};var escape=encodeURIComponent;$.param=function(e,t){var n=[];n.add=function(e,t){this.push(escape(e)+"="+escape(t))};serialize(n,e,t);return n.join("&").replace("%20","+")}})(Zepto);(function(e){e.fn.serializeArray=function(){var t=[],n;e(Array.prototype.slice.call(this.get(0).elements)).each(function(){n=e(this);var r=n.attr("type");if(this.nodeName.toLowerCase()!="fieldset"&&!this.disabled&&r!="submit"&&r!="reset"&&r!="button"&&(r!="radio"&&r!="checkbox"||this.checked))t.push({name:n.attr("name"),value:n.val()})});return t};e.fn.serialize=function(){var e=[];this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))});return e.join("&")};e.fn.submit=function(t){if(t)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n);if(!n.defaultPrevented)this.get(0).submit()}return this}})(Zepto);(function(e){function r(e){return"tagName"in e?e:e.parentNode}function i(e,t,n,r){var i=Math.abs(e-t),s=Math.abs(n-r);return i>=s?e-t>0?"Left":"Right":n-r>0?"Up":"Down"}function u(){o=null;if(t.last){t.el.trigger("longTap");t={}}}function a(){if(o)clearTimeout(o);o=null}var t={},n;var s=750,o;e(document).ready(function(){var f,l;e(document.body).bind("touchstart",function(i){f=Date.now();l=f-(t.last||f);t.el=e(r(i.touches[0].target));n&&clearTimeout(n);t.x1=i.touches[0].pageX;t.y1=i.touches[0].pageY;if(l>0&&l<=250)t.isDoubleTap=true;t.last=f;o=setTimeout(u,s)}).bind("touchmove",function(e){a();t.x2=e.touches[0].pageX;t.y2=e.touches[0].pageY}).bind("touchend",function(e){a();if(t.isDoubleTap){t.el.trigger("doubleTap");t={}}else if(t.x2&&Math.abs(t.x1-t.x2)>30||t.y2&&Math.abs(t.y1-t.y2)>30){t.el.trigger("swipe")&&t.el.trigger("swipe"+i(t.x1,t.x2,t.y1,t.y2));t={}}else if("last"in t){t.el.trigger("tap");n=setTimeout(function(){n=null;t.el.trigger("singleTap");t={}},250)}}).bind("touchcancel",function(){if(n)clearTimeout(n);if(o)clearTimeout(o);o=n=null;t={}})});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}})})(Zepto);include.setCurrent({id:"framework.ruqq.base",namespace:"framework.ruqq.base",url:""});void function(){"use strict";var e=window,t=typeof e.ruqq==="undefined"?e.ruqq={}:ruqq;t.doNothing=function(){return false};void function(e){var t=document.createElement("div"),n={};e.info=n;n.hasTouchSupport=function(){if("createTouch"in document)return true;try{return!!document.createEvent("TouchEvent").initTouchEvent}catch(e){return false}}();n.prefix=function(){if("webkitTransition"in t.style)return"webkit";if("MozTransition"in t.style)return"Moz";if("OTransition"in t.style)return"O";if("msTransition"in t.style)return"ms";return""}();n.cssprefix=n.prefix?"-"+n.prefix.toLowerCase()+"-":"";n.supportTransitions=n.prefix+"TransitionProperty"in t.style}(t);return t}();include.setCurrent({id:"framework.utils",namespace:"framework.utils",url:""});void function(){var e={};String.format=function(t){if(typeof arguments[1]!="object"){for(var n=1;n<arguments.length;n++){var r=e[n]||(e[n]=new RegExp("%"+n,"g"));t=t.replace(r,arguments[n])}return t}var i="",s=0,o=arguments[1];while(1){var u=t.indexOf("#{",s);if(u==-1)break;i+=t.substring(s,u);var a=t.indexOf("}",u);i+=o[t.substring(u+2,a)];s=++a}i+=t.substring(s);return i};Object.defaults=function(e,t){for(var n in t)if(e[n]==null)e[n]=t[n];return e};Object.clear=function(e,t){if(t instanceof Array){for(var n=0,r,i=t.length;r=t[n],n<i;n++)if(r in e)delete e[r]}else if(typeof t==="object"){for(var s in t)if(s in e)delete e[s]}return e};Object.extend=function(e,t){if(e==null)e={};if(t==null)return e;for(var n in t)if(t[n]!=null)e[n]=t[n];return e};Date.format=function(e,t){function n(e){return e>9?e:"0"+e}if(!t)t="MM/dd/yyyy";t=t.replace("MM",n(e.getMonth()+1));var r=e.getFullYear();if(t.indexOf("yyyy")>-1)t=t.replace("yyyy",r);else if(t.indexOf("yy")>-1)t=t.replace("yy",r.toString().substr(2,2));t=t.replace("dd",n(e.getDate()));if(t.indexOf("HH")>-1)t=t.replace("HH",n(e.getHours()));if(t.indexOf("mm")>-1)t=t.replace("mm",n(e.getMinutes()));if(t.indexOf("ss")>-1)t=t.replace("ss",n(e.getSeconds()));return t}}();include.setCurrent({id:"framework.animation",namespace:"framework.animation",url:""});include.js({framework:"ruqq.base"}).done(function(){var e=window,t=ruqq,n=t.info.cssprefix;t.animate=function(){function e(e,t,r,i,s,o,u){var a=typeof t==="string"?{property:t,valueFrom:o,valueTo:r,duration:i,timing:u,callback:s}:t,f=$(e);if(a.timing==null)a.timing="linear";if(a.duration==null)a.duration=300;if(typeof a.duration=="string"){var l={slow:600,fast:200};a.duration=l[a.duration]||400}if(a.valueFrom!=null){var c={};c[a.property]=a.valueFrom;c[n+"transition-property"]="none";c[n+"transition-duration"]="0ms";f.css(c)}setTimeout(function(){var t={};t[a.property]=a.valueTo;t[n+"transition-property"]=a.property;t[n+"transition-duration"]=a.duration+"ms";t[n+"transition-timing-function"]=a.timing;f.css(t);if(a.callback){var r=setTimeout(a.callback.bind(f),a.duration);f.data("cssAnimationCallback",r)}e=null;a=null},0);return this}function t(t,n){var i=t instanceof Array,s=i?t.length:1,o=null;for(var u=0;o=i?t[u]:t,i?u<s:u<1;u++){var a=o.onComplete?r(o.onComplete):n;e(o.element,o.prop,o.to,o.duration,a,o.from,o.timing)}}function r(e,n){return function(){t(e,n)}}return function(n,r,i,s,o,u,a){if(n instanceof HTMLElement){e(n,r,i,s,o,u,a);return this}t(n,r);return this}}();t.spriteAnimation=function(){var e={},n=t.info.cssprefix,i=null,s=function(){var e=t.info.prefix;i={keyframes:"@"+e+"keyframes",AnimationIterationCount:e+"AnimationIterationCount",AnimationDuration:e+"AnimationDuration",AnimationTimingFunction:e+"AnimationTimingFunction",AnimationFillMode:e+"AnimationFillMode",AnimationName:e+"AnimationFillMode"}};return{create:function(t){if(i==null){s()}if(e[t.id]==null){var n=document.styleSheets[0].insertRule(i.keyframes+" "+t.id+" {}",0),r=document.styleSheets[0].cssRules[n],o=t.frames-(t.frameStart||0),u=100/o|0,a=t.property||"background-position-x";for(var f=0;f<o;f++){var l=u*(f+1)+"% { "+a+": "+ -t.frameWidth*(f+(t.frameStart||0))+"px}";r.insertRule(l)}r.iterationCount=t.iterationCount;r.frameToStop=t.frameToStop;e[t.id]=r}},start:function(t,n,r){var s=t.get(0).style;s[i.AnimationName]="none";setTimeout(function(){var o=e[n];if(s[i.AnimationFillMode]=="forwards"){spriteAnimation.stop(t);return}t.on(i+"AnimationEnd",function(){var e;if(o.frameToStop){var n=o.cssRules[o.cssRules.length-1].style;e={};for(var r=0;r<n.length;r++){e[n[r]]=n[n[r]]}}spriteAnimation.stop(t,e)});s[i.AnimationIterationCount]=o.iterationCount||1;s[i.AnimationDuration]=o.cssRules.length*r+"ms";s[i.AnimationTimingFunction]="step-start";s[i.AnimationFillMode]=o.frameToStop?"forwards":"none";s[i.AnimationName]=n},0)},stop:function(e,t){var n=e.get(0).style;n[i.AnimationFillMode]="none";n[i.AnimationName]="";if(t!=null)e.css(t)}}}()});include.setCurrent({id:"lib.mask",namespace:"lib.mask",url:""});window.mask=function(e,t){var n={noWhitespace:/[^\s]/g,whitespace:/\s/g,attributes:/(([\w_-]+)='([^']+))|(\.([\w-_]+)[# \.;{])|(#([\w-_]+)[ \.])/g,linearCondition:/([!]?[\w\.-]+)([!<>=]{1,2})?([^\|\&]+)?([\|\&]{2})?/g,escapedChar:{"'":/\\'/g,'"':/\\"/g,"{":/\\\{/g,">":/\\>/g,";":/\\>/g},attrEnd:/[\.#>\{ ;]/g},r={img:1,input:1,br:1,hr:1,link:1};var i={extend:function(e,t){if(t==null)return e;if(e==null)e={};for(var n in t)e[n]=t[n];return e},getProperty:function(e,t){if(typeof e!=="object"||t==null)return e;if(typeof t==="string")t=t.split(".");if(t.length===1)return e[t[0]];return this.getProperty(e[t.shift()],t)},templateFunction:function(e,t){var r="";for(var s=0;s<e.length;s++){if(s%2===0){r+=e[s]}else{var o=e[s],u=null,f=o.indexOf(":");if(f>-1){var l=f>0?o.substring(0,f).replace(n.whitespace,""):"";if(l==="")l="condition";o=o.substring(f+1);u=typeof a[l]==="function"?a[l](o,t):null}else{u=i.getProperty(t,e[s])}r+=u==null?"":u}}return r}};var s=function(e){this.template=e;this.index=0;this.length=e.length};s.prototype={next:function(){this.index++;return this},skipWhitespace:function(){for(;this.index<this.length;this.index++){if(this.template.charCodeAt(this.index)!==32)return this}return this},skipToChar:function(e){var t=this.template.indexOf(e,this.index);if(t>-1){this.index=t;if(this.template.charCodeAt(t-1)!==92){return this}this.next().skipToChar(e)}return this},skipToAny:function(e){var t=n[e];if(t==null){console.error("Unknown regexp %s: Create",e);t=n[e]=new RegExp("["+e+"]","g")}t.lastIndex=this.index;var r=t.exec(this.template);if(r!=null){this.index=r.index}return this},skipToAttributeBreak:function(){do{c=this.template.charCodeAt(++this.index);if(c===35&&this.template.charCodeAt(this.index+1)===123){this.index++;c=null}}while(c!==46&&c!==35&&c!==62&&c!==123&&c!==32&&c!==59&&this.index<this.length);return this},sliceToChar:function(e){var t=this.index,r,i;while((i=this.template.indexOf(e,this.index))>-1){this.index=i;if(this.template.charCodeAt(i-1)!==92){break}r=true;this.index++}var s=this.template.substring(t,this.index);return r?s.replace(n.escapedChar[e],e):s},sliceToAny:function(e){var t=this.index;return this.skipToAny(e).template.substring(t,this.index)}};var o=function(){if(this.attr==null)this.attr={}};o.prototype.render=function(e,t){return t instanceof Array?l.buildHtml(this.noes,e,t):l.buildDom(this.nodes,e,t)};var u=function(e){var t=function(){this.attr={}};t.prototype.render=function(e,t,n){e=i.getProperty(e,this.attr.value);if(e instanceof Array===false)return t;if(this.attr.template!=null){var r=document.querySelector(this.attr.template).innerHTML;this.nodes=mask.compile(r)}if(this.nodes==null)return t;var s=t.buffer!=null?"buildHtml":"buildDom";for(var o=0,u=e.length;o<u;o++){l[s](this.nodes,e[o],t,n)}return t};var n=function(){this.attr={}};n.prototype.render=function(t,n,r){if(a.out.isCondition(this.attr.check,t)===false)return n;return e.prototype.render.call(this,t,n,r)};var r=function(){this.attr={}};r.prototype.render=function(e,t){var n=e[this.attr.value];Object.defineProperty(e,this.attr.value,{get:function(){return n},set:function(e){t.innerHTML=n=e}});t.innerHTML=n;return t};return{all:{list:t,visible:n,bind:r}}}(o);var a=function(e,t){var n=function(e){var n={assertions:[]},i={data:e.replace(t.whitespace,"")};i.index=i.data.indexOf("?");if(i.index==-1)console.error("Invalid Linear Condition: ? - no found");var s,o=i.data.substring(0,i.index);while((s=t.linearCondition.exec(o))!=null){n.assertions.push({join:s[4],left:s[1],sign:s[2],right:s[3]})}i.index++;r(i,n,"case1");i.index++;r(i,n,"case2");return n},r=function(e,t,n){var r=e.data[e.index],i=null;if(r==null)return;if(r==='"'||r==="'"){i=e.data.indexOf(r,++e.index);t[n]=e.data.substring(e.index,i)}else{i=e.data.indexOf(":",e.index);if(i==-1)i=e.data.length;t[n]={value:e.data.substring(e.index,i)}}if(i!=null)e.index=++i},i=function(t,r){if(typeof t==="string")t=n(t);var i=false;for(var s=0;s<t.assertions.length;s++){var o=t.assertions[s],u,a;if(o.right==null){i=o.left.charCodeAt(0)===33?!e.getProperty(r,o.left.substring(1)):!!e.getProperty(r,o.left);if(i==true){if(o.join=="&&")continue;break}if(o.join=="||")continue;break}var f=o.right.charCodeAt(0);if(f===34||f===39){a=o.right.substring(1,o.right.length-1)}else if(f>47&&f<58){a=o.right}else{a=e.getProperty(r,o.right)}u=e.getProperty(r,o.left);switch(o.sign){case"<":i=u<a;break;case"<=":i=u<=a;break;case">":i=u>a;break;case">=":i=u>=a;break;case"!=":i=u!=a;break;case"==":i=u==a;break}if(i==true){if(o.join=="&&")continue;break}if(o.join=="||")continue;break}return i};return{condition:function(t,r){con=n(t);var s=i(con,r)?con.case1:con.case2;if(s==null)return"";if(typeof s==="string")return s;return e.getProperty(r,s.value)},out:{isCondition:i,parse:n}}}(i,n);var f={toFunction:function(e){var t=e.split("#{"),n=t.length;for(var r=1;r<n;r++){var s=t[r],o=s.indexOf("}");t.splice(r,0,s.substring(0,o));r++;n++;t[r]=s.substring(o+1)}e=null;return function(e){return i.templateFunction(t,e)}},parseAttributes:function(e,t){var n,r,i,s;if(t.attr==null)t.attr={};for(;e.index<e.length;e.index++){n=null;r=null;var o=e.template.charCodeAt(e.index);switch(o){case 32:continue;case 123:case 59:case 62:if(i!=null){t.attr["class"]=i.indexOf("#{")>-1?e.serialize!==true?this.toFunction(i):{template:i}:i}return;case 46:var u=e.index+1;e.skipToAttributeBreak();r=e.template.substring(u,e.index);i=i!=null?i+" "+r:r;e.index--;break;case 35:n="id";var u=e.index+1;e.skipToAttributeBreak();r=e.template.substring(u,e.index);e.index--;break;default:n=e.sliceToChar("=");do s=e.template.charAt(++e.index);while(s==" ");e.index++;r=e.sliceToChar(s);break}if(n!=null){if(r.indexOf("#{")>-1){r=e.serialize!==true?this.toFunction(r):{template:r}}t.attr[n]=r}}},parse:function(e,t){var n=e;for(;e.index<e.length;e.index++){var r=e.template.charCodeAt(e.index);switch(r){case 32:continue;case 39:case 34:e.index++;var i=e.sliceToChar(r==39?"'":'"');if(i.indexOf("#{")>-1)i=e.serialize!==true?this.toFunction(i):{template:i};var s={content:i};if(n.nodes==null)n.nodes=s;else if(n.nodes.push==null)n.nodes=[n.nodes,s];else n.nodes.push(s);if(n.__single){if(n==null)continue;n=n.parent;while(n!=null&&n.__single!=null){n=n.parent}}continue;case 62:n.__single=true;continue;case 123:continue;case 59:case 125:if(n==null)continue;do n=n.parent;while(n!=null&&n.__single!=null);continue}var o=e.index;do r=e.template.charCodeAt(++e.index);while(r!==32&&r!==35&&r!==46&&r!==59&&r!==123&&r!==62);var u=e.template.substring(o,e.index);if(u===""){console.error("Parse Error: Undefined tag Name %d/%d %s",e.index,e.length,e.template.substring(e.index,e.index+10))}var a={tagName:u,parent:n};if(n==null){console.log("T",e,"rest",e.template.substring(e.index))}if(n.nodes==null)n.nodes=a;else if(n.nodes.push==null)n.nodes=[n.nodes,a];else n.nodes.push(a);n=a;this.parseAttributes(e,n);e.index--}return e.nodes},cleanObject:function(e){if(e instanceof Array){for(var t=0;t<e.length;t++)this.cleanObject(e[t]);return e}delete e.parent;delete e.__single;if(e.nodes!=null)this.cleanObject(e.nodes);return e}};var l={buildDom:function(e,n,r,s){if(e==null)return r;if(r==null){r=t.createDocumentFragment()}if(s==null){s={}}var o=e instanceof Array,a=o?e.length:1,f=null;for(var l=0;f=o?e[l]:e,o?l<a:l<1;l++){if(u.all[f.tagName]!=null){var c=new u.all[f.tagName](n);c.compoName=f.tagName;c.nodes=f.nodes;c.attr=c.attr==null?f.attr:i.extend(c.attr,f.attr);(s.components||(s.components=[])).push(c);c.parent=s;c.render(n,r,c);continue}if(f.content!=null){r.appendChild(t.createTextNode(typeof f.content=="function"?f.content(n):f.content));continue}var h=t.createElement(f.tagName);for(var p in f.attr){var v=typeof f.attr[p]=="function"?f.attr[p](n):f.attr[p];if(v)h.setAttribute(p,v)}if(f.nodes!=null){this.buildDom(f.nodes,n,h,s)}r.appendChild(h)}return r},buildHtml:function(e,t,n){if(n==null){n={buffer:""}}var i=e instanceof Array,s=i?e.length:1,o=null;for(var a=0;o=i?e[a]:e,i?a<s:a<1;a++){if(u.all[o.tagName]!=null){var f=new u.all[o.tagName];for(var l in o)f[l]=o[l];f.render(t,n);return n}if(o.content!=null){n.buffer+=typeof o.content==="function"?o.content(t):o.content;return n}n.buffer+="<"+o.tagName;for(var l in o.attr){var c=typeof o.attr[l]=="function"?o.attr[l](t):o.attr[l];if(c){n.buffer+=" "+l+"='"+c+"'"}}if(r[o.tagName]!=null){n.buffer+="/>";if(o.nodes!=null)console.error("Html could be invalid: Single Tag Contains children:",o)}else{n.buffer+=">";if(o.nodes!=null){this.buildHtml(o.nodes,t,n)}n.buffer+="</"+o.tagName+">"}}return n}};return{renderHtml:function(e,t){if(typeof e==="string"){e=this.compile(e)}return l.buildHtml(e,t).buffer},renderDom:function(e,t,n,r){if(typeof e==="string"){e=this.compile(e)}return l.buildDom(e,t,n,r)},compile:function(e,t){e=e.replace(/[\t\n\r]|[ ]{2,}/g," ");var n=new s(e);if(t==true)n.serialize=true;return f.parse(n,[])},registerHandler:function(e,t){u.all[e]=t},getHandler:function(e){return u.all[e]},registerUtility:function(e,t){a[e]=t},serialize:function(e){return f.cleanObject(this.compile(e,true))},deserialize:function(e){if(e instanceof Array){for(var t=0;t<e.length;t++){this.deserialize(e[t])}return e}if(e.content!=null){if(e.content.template!=null){e.content=f.toFunction(e.content.template)}return e}if(e.attr!=null){for(var n in e.attr){if(e.attr[n].template==null)continue;e.attr[n]=f.toFunction(e.attr[n].template)}}if(e.nodes!=null){this.deserialize(e.nodes)}return e},ICustomTag:o}}(window,document);include.setCurrent({id:"lib.compo",namespace:"lib.compo",url:""});include.js({lib:"mask"}).done(function(){console.log("compo.done");var e=window,t={trailingSpaces:/^\s+/},n={resolveDom:function(e,t){if(e.nodes!=null){if(e.tagName!=null)return e;return mask.renderDom(e.nodes,t)}if(e.attr.template!=null){var n;if(e.attr.template[0]==="#"){n=document.getElementById(e.attr.template.substring(1));if(n==null){console.error("Template Element not Found:",arg);return null}}return mask.renderDom(n!=null?n.innerHTML:e.attr.template,t)}return null},ensureTemplate:function(e){if(e.nodes!=null)return;var t;if(e.attr.template!=null){if(e.attr.template[0]==="#")t=this.templateById(e.attr.template.substring(1));else t=e.attr.template}if(typeof t=="string"){t=mask.compile(t)}if(t!=null){e.nodes=t;return}return},templateById:function(e){var t=document.getElementById(e);if(t==null)console.error("Template Element not Found:",e);else return t.innerHTML;return""},containerArray:function(){var e=[];e.appendChild=function(e){this.push(e)};return e}},r={emit:function(e,t,n){if(e.listeners!=null&&t in e.listeners){e.listeners[t].apply(e,n);delete e.listeners[t]}if(e.components instanceof Array){for(var i=0;i<e.components.length;i++){r.emit(e.components[i],t,n)}}},on:function(e,t,n){if(e.listeners==null)e.listeners={};e.listeners[t]=n}},i={on:function(e,t){var n=t instanceof Array,r=n?t.length:1,i=null;for(var s=0;i=n?t[s]:t,n?s<r:s<1;s++){if(i instanceof Array){e.$.on.apply(e.$,i);continue}for(var o in i){var u=i[o],a=o.split(":");e.$.on(a[0]||"click",a.splice(1).join(":"),u.bind(e))}}}};e.Compo=Class({Construct:function(e){if(typeof e==="string"){var t=e;if(t[0]=="#")t=n.templateById(t.substring(1));this.nodes=mask.compile(t)}},render:function(e,t,n){this.create(e,n);if(t!=null){for(var r=0;r<this.$.length;r++)t.appendChild(this.$[r])}return this},insert:function(e){for(var t=0;t<this.$.length;t++)e.appendChild(this.$[t]);r.emit(this,"DOMInsert");return this},append:function(e,t){if(this.$!=null){var i=mask.renderDom(e,t,n.containerArray(),this);for(var s=0;s<i.length;s++){this.$.append(i[s])}r.emit(this,"DOMInsert")}else{var o=typeof e=="string"?mask.compile(e):e;if(this.nodes==null)this.nodes=o;else if(this.nodes instanceof Array)this.nodes.push(o);else this.nodes=[this.nodes,o]}return this},create:function(e,r){if(r==null)r=this;n.ensureTemplate(this);var s=mask.renderDom(this.tagName==null?this.nodes:this,e,n.containerArray(),r);this.$=$(s);if(this.events!=null){i.on(this,this.events)}if(this.compos!=null){for(var o in this.compos){if(typeof this.compos[o]!=="string")continue;var u=this.compos[o],a=u.indexOf(":"),f=u.substring(0,a);f=Compo.config.selectors[f];if(f==null){this.compos[o]=this.$.get(0).querySelector(u);continue}u=u.substring(++a).replace(t.trailingSpaces,"");this.compos[o]=f(this,u)}}return this},on:function(){var e=Array.prototype.slice.call(arguments);switch(arguments.length){case 1:case 2:e.unshift("click");break}if(this.events==null)this.events=[e];else if(this.events instanceof Array)this.events.push(e);else this.events=[e,this.events];return this},remove:function(){this.$&&this.$.remove();Compo.dispose(this);return this},Static:{config:{selectors:{$:function(e,t){var n=e.$.find(t);return n.length>0?n:e.$.filter(t)},compo:function(e,t){var n=Compo.findCompo(e,t);return n}},setDOMLibrary:function(e){$=e}},find:function(e,t,n,r){if(e==null)return null;if(e instanceof Array){for(var i=0,s,o=e.length;s=e[i],i<o;i++){var u=Compo.find(s,t,n,r);if(u!=null)return u}return null}if(r==null){r=e.compoName?"compo":"node"}var a=arguments[4],f=arguments[5],l=arguments[6];if(a==null){switch(t[0]){case"#":a="id";t=t.substring(1);f="attr";break;case".":a="class";t=new RegExp("\\b"+t.substring(1)+"\\b");f="attr";break;default:a=r=="node"?"tagName":"compoName";break}}var c=f?e[f]:e;if(c==null)return null;if(t.test!=null){if(t.test(c[a]))return e}else{if(c[a]==t)return e}if(l==null){if(n=="up")l="parent";else l=r=="node"?"nodes":"components"}return Compo.find(e[l],t,n,r,a,f,l)},findCompo:function(e,t,n){return Compo.find(e,t,n,"compo")},findNode:function(e,t,n){return Compo.find(e,t,n,"node")},dispose:function(e){e.dispose&&e.dispose();if(this.components==null)return;for(var t=0,n,r=e.components.length;n=e.components[t],t<r;t++){Compo.dispose(n)}},events:r}});e.CompoUtils=Class({Construct:function(e){if(e instanceof Compo){e.addClass=this.addClass;return e}return this},addClass:function(e){this.attr.class=this.attr.class?this.attr.class+" "+e:e},find:function(e,t,n){return Compo.find(this,e,t,n)}})});include.setCurrent({id:"compo.scroller/iscroll-full.js",namespace:"undefined",url:"iscroll-full.js"});(function(e,t){function O(e){if(i==="")return e;e=e.charAt(0).toUpperCase()+e.substr(1);return i+e}var n=Math,r=t.createElement("div").style,i=function(){var e="t,webkitT,MozT,msT,OT".split(","),t,n=0,i=e.length;for(;n<i;n++){t=e[n]+"ransform";if(t in r){return e[n].substr(0,e[n].length-1)}}return false}(),s=i?"-"+i.toLowerCase()+"-":"",o=O("transform"),u=O("transitionProperty"),a=O("transitionDuration"),f=O("transformOrigin"),l=O("transitionTimingFunction"),c=O("transitionDelay"),h=/android/gi.test(navigator.appVersion),p=/iphone|ipad/gi.test(navigator.appVersion),d=/hp-tablet/gi.test(navigator.appVersion),v=O("perspective")in r,m="ontouchstart"in e&&!d,g=!!i,y=O("transition")in r,b="onorientationchange"in e?"orientationchange":"resize",w=m?"touchstart":"mousedown",E=m?"touchmove":"mousemove",S=m?"touchend":"mouseup",x=m?"touchcancel":"mouseup",T=i=="Moz"?"DOMMouseScroll":"mousewheel",N=function(){if(i===false)return false;var e={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return e[i]}(),C=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,1)}}(),k=function(){return e.cancelRequestAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||clearTimeout}(),L=v?" translateZ(0)":"",A=function(n,r){var i=this,c;i.wrapper=typeof n=="object"?n:t.getElementById(n);i.wrapper.style.overflow="hidden";i.scroller=i.wrapper.children[0];i.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,topOffset:0,checkDOMChanges:false,handleClick:true,hScrollbar:true,vScrollbar:true,fixedScrollbar:h,hideScrollbar:p,fadeScrollbar:p&&v,scrollbarClass:"",zoom:false,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:false,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(e){e.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(c in r)i.options[c]=r[c];i.x=i.options.x;i.y=i.options.y;i.options.useTransform=g&&i.options.useTransform;i.options.hScrollbar=i.options.hScroll&&i.options.hScrollbar;i.options.vScrollbar=i.options.vScroll&&i.options.vScrollbar;i.options.zoom=i.options.useTransform&&i.options.zoom;i.options.useTransition=y&&i.options.useTransition;if(i.options.zoom&&h){L=""}i.scroller.style[u]=i.options.useTransform?s+"transform":"top left";i.scroller.style[a]="0";i.scroller.style[f]="0 0";if(i.options.useTransition)i.scroller.style[l]="cubic-bezier(0.33,0.66,0.66,1)";if(i.options.useTransform)i.scroller.style[o]="translate("+i.x+"px,"+i.y+"px)"+L;else i.scroller.style.cssText+=";position:absolute;top:"+i.y+"px;left:"+i.x+"px";if(i.options.useTransition)i.options.fixedScrollbar=true;i.refresh();i._bind(b,e);i._bind(w);if(!m){if(i.options.wheelAction!="none")i._bind(T)}if(i.options.checkDOMChanges)i.checkDOMTime=setInterval(function(){i._checkDOMChanges()},500)};A.prototype={enabled:true,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(e){var t=this;switch(e.type){case w:if(!m&&e.button!==0)return;t._start(e);break;case E:t._move(e);break;case S:case x:t._end(e);break;case b:t._resize();break;case T:t._wheel(e);break;case N:t._transitionEnd(e);break}},_checkDOMChanges:function(){if(this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)return;this.refresh()},_scrollbar:function(e){var r=this,i;if(!r[e+"Scrollbar"]){if(r[e+"ScrollbarWrapper"]){if(g)r[e+"ScrollbarIndicator"].style[o]="";r[e+"ScrollbarWrapper"].parentNode.removeChild(r[e+"ScrollbarWrapper"]);r[e+"ScrollbarWrapper"]=null;r[e+"ScrollbarIndicator"]=null}return}if(!r[e+"ScrollbarWrapper"]){i=t.createElement("div");if(r.options.scrollbarClass)i.className=r.options.scrollbarClass+e.toUpperCase();else i.style.cssText="position:absolute;z-index:100;"+(e=="h"?"height:7px;bottom:1px;left:2px;right:"+(r.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(r.hScrollbar?"7":"2")+"px;top:2px;right:1px");i.style.cssText+=";pointer-events:none;"+s+"transition-property:opacity;"+s+"transition-duration:"+(r.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(r.options.hideScrollbar?"0":"1");r.wrapper.appendChild(i);r[e+"ScrollbarWrapper"]=i;i=t.createElement("div");if(!r.options.scrollbarClass){i.style.cssText="position:absolute;z-index:100;background:rgba(100,100,100,0.4);border:1px solid rgba(200,200,200,0.5);"+s+"background-clip:padding-box;"+s+"box-sizing:border-box;"+(e=="h"?"height:100%":"width:100%")+";"+s+"border-radius:3px;border-radius:3px"}i.style.cssText+=";pointer-events:none;"+s+"transition-property:"+s+"transform;"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+s+"transition-duration:0;"+s+"transform: translate(0,0)"+L;if(r.options.useTransition)i.style.cssText+=";"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)";r[e+"ScrollbarWrapper"].appendChild(i);r[e+"ScrollbarIndicator"]=i}if(e=="h"){r.hScrollbarSize=r.hScrollbarWrapper.clientWidth;r.hScrollbarIndicatorSize=n.max(n.round(r.hScrollbarSize*r.hScrollbarSize/r.scrollerW),8);r.hScrollbarIndicator.style.width=r.hScrollbarIndicatorSize+"px";r.hScrollbarMaxScroll=r.hScrollbarSize-r.hScrollbarIndicatorSize;r.hScrollbarProp=r.hScrollbarMaxScroll/r.maxScrollX}else{r.vScrollbarSize=r.vScrollbarWrapper.clientHeight;r.vScrollbarIndicatorSize=n.max(n.round(r.vScrollbarSize*r.vScrollbarSize/r.scrollerH),8);r.vScrollbarIndicator.style.height=r.vScrollbarIndicatorSize+"px";r.vScrollbarMaxScroll=r.vScrollbarSize-r.vScrollbarIndicatorSize;r.vScrollbarProp=r.vScrollbarMaxScroll/r.maxScrollY}r._scrollbarPos(e,true)},_resize:function(){var e=this;setTimeout(function(){e.refresh()},h?200:0)},_pos:function(e,t){if(this.zoomed)return;e=this.hScroll?e:0;t=this.vScroll?t:0;if(this.options.useTransform){this.scroller.style[o]="translate("+e+"px,"+t+"px) scale("+this.scale+")"+L}else{e=n.round(e);t=n.round(t);this.scroller.style.left=e+"px";this.scroller.style.top=t+"px"}this.x=e;this.y=t;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(e,t){var r=this,i=e=="h"?r.x:r.y,s;if(!r[e+"Scrollbar"])return;i=r[e+"ScrollbarProp"]*i;if(i<0){if(!r.options.fixedScrollbar){s=r[e+"ScrollbarIndicatorSize"]+n.round(i*3);if(s<8)s=8;r[e+"ScrollbarIndicator"].style[e=="h"?"width":"height"]=s+"px"}i=0}else if(i>r[e+"ScrollbarMaxScroll"]){if(!r.options.fixedScrollbar){s=r[e+"ScrollbarIndicatorSize"]-n.round((i-r[e+"ScrollbarMaxScroll"])*3);if(s<8)s=8;r[e+"ScrollbarIndicator"].style[e=="h"?"width":"height"]=s+"px";i=r[e+"ScrollbarMaxScroll"]+(r[e+"ScrollbarIndicatorSize"]-s)}else{i=r[e+"ScrollbarMaxScroll"]}}r[e+"ScrollbarWrapper"].style[c]="0";r[e+"ScrollbarWrapper"].style.opacity=t&&r.options.hideScrollbar?"0":"1";r[e+"ScrollbarIndicator"].style[o]="translate("+(e=="h"?i+"px,0)":"0,"+i+"px)")+L},_start:function(t){var r=this,i=m?t.touches[0]:t,s,u,a,f,l;if(!r.enabled)return;if(r.options.onBeforeScrollStart)r.options.onBeforeScrollStart.call(r,t);if(r.options.useTransition||r.options.zoom)r._transitionTime(0);r.moved=false;r.animating=false;r.zoomed=false;r.distX=0;r.distY=0;r.absDistX=0;r.absDistY=0;r.dirX=0;r.dirY=0;if(r.options.zoom&&m&&t.touches.length>1){f=n.abs(t.touches[0].pageX-t.touches[1].pageX);l=n.abs(t.touches[0].pageY-t.touches[1].pageY);r.touchesDistStart=n.sqrt(f*f+l*l);r.originX=n.abs(t.touches[0].pageX+t.touches[1].pageX-r.wrapperOffsetLeft*2)/2-r.x;r.originY=n.abs(t.touches[0].pageY+t.touches[1].pageY-r.wrapperOffsetTop*2)/2-r.y;if(r.options.onZoomStart)r.options.onZoomStart.call(r,t)}if(r.options.momentum){if(r.options.useTransform){s=getComputedStyle(r.scroller,null)[o].replace(/[^0-9\-.,]/g,"").split(",");u=+s[4];a=+s[5]}else{u=+getComputedStyle(r.scroller,null).left.replace(/[^0-9-]/g,"");a=+getComputedStyle(r.scroller,null).top.replace(/[^0-9-]/g,"")}if(u!=r.x||a!=r.y){if(r.options.useTransition)r._unbind(N);else k(r.aniTime);r.steps=[];r._pos(u,a);if(r.options.onScrollEnd)r.options.onScrollEnd.call(r)}}r.absStartX=r.x;r.absStartY=r.y;r.startX=r.x;r.startY=r.y;r.pointX=i.pageX;r.pointY=i.pageY;r.startTime=t.timeStamp||Date.now();if(r.options.onScrollStart)r.options.onScrollStart.call(r,t);r._bind(E,e);r._bind(S,e);r._bind(x,e)},_move:function(e){var t=this,r=m?e.touches[0]:e,i=r.pageX-t.pointX,s=r.pageY-t.pointY,u=t.x+i,a=t.y+s,f,l,c,h=e.timeStamp||Date.now();if(t.options.onBeforeScrollMove)t.options.onBeforeScrollMove.call(t,e);if(t.options.zoom&&m&&e.touches.length>1){f=n.abs(e.touches[0].pageX-e.touches[1].pageX);l=n.abs(e.touches[0].pageY-e.touches[1].pageY);t.touchesDist=n.sqrt(f*f+l*l);t.zoomed=true;c=1/t.touchesDistStart*t.touchesDist*this.scale;if(c<t.options.zoomMin)c=.5*t.options.zoomMin*Math.pow(2,c/t.options.zoomMin);else if(c>t.options.zoomMax)c=2*t.options.zoomMax*Math.pow(.5,t.options.zoomMax/c);t.lastScale=c/this.scale;u=this.originX-this.originX*t.lastScale+this.x,a=this.originY-this.originY*t.lastScale+this.y;this.scroller.style[o]="translate("+u+"px,"+a+"px) scale("+c+")"+L;if(t.options.onZoom)t.options.onZoom.call(t,e);return}t.pointX=r.pageX;t.pointY=r.pageY;if(u>0||u<t.maxScrollX){u=t.options.bounce?t.x+i/2:u>=0||t.maxScrollX>=0?0:t.maxScrollX}if(a>t.minScrollY||a<t.maxScrollY){a=t.options.bounce?t.y+s/2:a>=t.minScrollY||t.maxScrollY>=0?t.minScrollY:t.maxScrollY}t.distX+=i;t.distY+=s;t.absDistX=n.abs(t.distX);t.absDistY=n.abs(t.distY);if(t.absDistX<6&&t.absDistY<6){return}if(t.options.lockDirection){if(t.absDistX>t.absDistY+5){a=t.y;s=0}else if(t.absDistY>t.absDistX+5){u=t.x;i=0}}t.moved=true;t._pos(u,a);t.dirX=i>0?-1:i<0?1:0;t.dirY=s>0?-1:s<0?1:0;if(h-t.startTime>300){t.startTime=h;t.startX=t.x;t.startY=t.y}if(t.options.onScrollMove)t.options.onScrollMove.call(t,e)},_end:function(r){if(m&&r.touches.length!==0)return;var i=this,s=m?r.changedTouches[0]:r,u,f,l={dist:0,time:0},c={dist:0,time:0},h=(r.timeStamp||Date.now())-i.startTime,p=i.x,d=i.y,v,g,y,b,w;i._unbind(E,e);i._unbind(S,e);i._unbind(x,e);if(i.options.onBeforeScrollEnd)i.options.onBeforeScrollEnd.call(i,r);if(i.zoomed){w=i.scale*i.lastScale;w=Math.max(i.options.zoomMin,w);w=Math.min(i.options.zoomMax,w);i.lastScale=w/i.scale;i.scale=w;i.x=i.originX-i.originX*i.lastScale+i.x;i.y=i.originY-i.originY*i.lastScale+i.y;i.scroller.style[a]="200ms";i.scroller.style[o]="translate("+i.x+"px,"+i.y+"px) scale("+i.scale+")"+L;i.zoomed=false;i.refresh();if(i.options.onZoomEnd)i.options.onZoomEnd.call(i,r);return}if(!i.moved){if(m){if(i.doubleTapTimer&&i.options.zoom){clearTimeout(i.doubleTapTimer);i.doubleTapTimer=null;if(i.options.onZoomStart)i.options.onZoomStart.call(i,r);i.zoom(i.pointX,i.pointY,i.scale==1?i.options.doubleTapZoom:1);if(i.options.onZoomEnd){setTimeout(function(){i.options.onZoomEnd.call(i,r)},200)}}else if(this.options.handleClick){i.doubleTapTimer=setTimeout(function(){i.doubleTapTimer=null;u=s.target;while(u.nodeType!=1)u=u.parentNode;if(u.tagName!="SELECT"&&u.tagName!="INPUT"&&u.tagName!="TEXTAREA"){f=t.createEvent("MouseEvents");f.initMouseEvent("click",true,true,r.view,1,s.screenX,s.screenY,s.clientX,s.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,0,null);f._fake=true;u.dispatchEvent(f)}},i.options.zoom?250:0)}}i._resetPos(400);if(i.options.onTouchEnd)i.options.onTouchEnd.call(i,r);return}if(h<300&&i.options.momentum){l=p?i._momentum(p-i.startX,h,-i.x,i.scrollerW-i.wrapperW+i.x,i.options.bounce?i.wrapperW:0):l;c=d?i._momentum(d-i.startY,h,-i.y,i.maxScrollY<0?i.scrollerH-i.wrapperH+i.y-i.minScrollY:0,i.options.bounce?i.wrapperH:0):c;p=i.x+l.dist;d=i.y+c.dist;if(i.x>0&&p>0||i.x<i.maxScrollX&&p<i.maxScrollX)l={dist:0,time:0};if(i.y>i.minScrollY&&d>i.minScrollY||i.y<i.maxScrollY&&d<i.maxScrollY)c={dist:0,time:0}}if(l.dist||c.dist){y=n.max(n.max(l.time,c.time),10);if(i.options.snap){v=p-i.absStartX;g=d-i.absStartY;if(n.abs(v)<i.options.snapThreshold&&n.abs(g)<i.options.snapThreshold){i.scrollTo(i.absStartX,i.absStartY,200)}else{b=i._snap(p,d);p=b.x;d=b.y;y=n.max(b.time,y)}}i.scrollTo(n.round(p),n.round(d),y);if(i.options.onTouchEnd)i.options.onTouchEnd.call(i,r);return}if(i.options.snap){v=p-i.absStartX;g=d-i.absStartY;if(n.abs(v)<i.options.snapThreshold&&n.abs(g)<i.options.snapThreshold)i.scrollTo(i.absStartX,i.absStartY,200);else{b=i._snap(i.x,i.y);if(b.x!=i.x||b.y!=i.y)i.scrollTo(b.x,b.y,b.time)}if(i.options.onTouchEnd)i.options.onTouchEnd.call(i,r);return}i._resetPos(200);if(i.options.onTouchEnd)i.options.onTouchEnd.call(i,r)},_resetPos:function(e){var t=this,n=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,r=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;if(n==t.x&&r==t.y){if(t.moved){t.moved=false;if(t.options.onScrollEnd)t.options.onScrollEnd.call(t)}if(t.hScrollbar&&t.options.hideScrollbar){if(i=="webkit")t.hScrollbarWrapper.style[c]="300ms";t.hScrollbarWrapper.style.opacity="0"}if(t.vScrollbar&&t.options.hideScrollbar){if(i=="webkit")t.vScrollbarWrapper.style[c]="300ms";t.vScrollbarWrapper.style.opacity="0"}return}t.scrollTo(n,r,e||0)},_wheel:function(e){var t=this,n,r,i,s,o;if("wheelDeltaX"in e){n=e.wheelDeltaX/3;r=e.wheelDeltaY/3}else if("wheelDelta"in e){n=r=e.wheelDelta/3}else if("detail"in e){n=r=-e.detail*3}else{return}if(t.options.wheelAction=="zoom"){o=t.scale*Math.pow(2,1/3*(r?r/Math.abs(r):0));if(o<t.options.zoomMin)o=t.options.zoomMin;if(o>t.options.zoomMax)o=t.options.zoomMax;if(o!=t.scale){if(!t.wheelZoomCount&&t.options.onZoomStart)t.options.onZoomStart.call(t,e);t.wheelZoomCount++;t.zoom(e.pageX,e.pageY,o,400);setTimeout(function(){t.wheelZoomCount--;if(!t.wheelZoomCount&&t.options.onZoomEnd)t.options.onZoomEnd.call(t,e)},400)}return}i=t.x+n;s=t.y+r;if(i>0)i=0;else if(i<t.maxScrollX)i=t.maxScrollX;if(s>t.minScrollY)s=t.minScrollY;else if(s<t.maxScrollY)s=t.maxScrollY;if(t.maxScrollY<0){t.scrollTo(i,s,0)}},_transitionEnd:function(e){var t=this;if(e.target!=t.scroller)return;t._unbind(N);t._startAni()},_startAni:function(){var e=this,t=e.x,r=e.y,i=Date.now(),s,o,u;if(e.animating)return;if(!e.steps.length){e._resetPos(400);return}s=e.steps.shift();if(s.x==t&&s.y==r)s.time=0;e.animating=true;e.moved=true;if(e.options.useTransition){e._transitionTime(s.time);e._pos(s.x,s.y);e.animating=false;if(s.time)e._bind(N);else e._resetPos(0);return}u=function(){var a=Date.now(),f,l;if(a>=i+s.time){e._pos(s.x,s.y);e.animating=false;if(e.options.onAnimationEnd)e.options.onAnimationEnd.call(e);e._startAni();return}a=(a-i)/s.time-1;o=n.sqrt(1-a*a);f=(s.x-t)*o+t;l=(s.y-r)*o+r;e._pos(f,l);if(e.animating)e.aniTime=C(u)};u()},_transitionTime:function(e){e+="ms";this.scroller.style[a]=e;if(this.hScrollbar)this.hScrollbarIndicator.style[a]=e;if(this.vScrollbar)this.vScrollbarIndicator.style[a]=e},_momentum:function(e,t,r,i,s){var o=6e-4,u=n.abs(e)/t,a=u*u/(2*o),f=0,l=0;if(e>0&&a>r){l=s/(6/(a/u*o));r=r+l;u=u*r/a;a=r}else if(e<0&&a>i){l=s/(6/(a/u*o));i=i+l;u=u*i/a;a=i}a=a*(e<0?-1:1);f=u/o;return{dist:a,time:n.round(f)}},_offset:function(e){var t=-e.offsetLeft,n=-e.offsetTop;while(e=e.offsetParent){t-=e.offsetLeft;n-=e.offsetTop}if(e!=this.wrapper){t*=this.scale;n*=this.scale}return{left:t,top:n}},_snap:function(e,t){var r=this,i,s,o,u,a,f;o=r.pagesX.length-1;for(i=0,s=r.pagesX.length;i<s;i++){if(e>=r.pagesX[i]){o=i;break}}if(o==r.currPageX&&o>0&&r.dirX<0)o--;e=r.pagesX[o];a=n.abs(e-r.pagesX[r.currPageX]);a=a?n.abs(r.x-e)/a*500:0;r.currPageX=o;o=r.pagesY.length-1;for(i=0;i<o;i++){if(t>=r.pagesY[i]){o=i;break}}if(o==r.currPageY&&o>0&&r.dirY<0)o--;t=r.pagesY[o];f=n.abs(t-r.pagesY[r.currPageY]);f=f?n.abs(r.y-t)/f*500:0;r.currPageY=o;u=n.round(n.max(a,f))||200;return{x:e,y:t,time:u}},_bind:function(e,t,n){(t||this.scroller).addEventListener(e,this,!!n)},_unbind:function(e,t,n){(t||this.scroller).removeEventListener(e,this,!!n)},destroy:function(){var t=this;t.scroller.style[o]="";t.hScrollbar=false;t.vScrollbar=false;t._scrollbar("h");t._scrollbar("v");t._unbind(b,e);t._unbind(w);t._unbind(E,e);t._unbind(S,e);t._unbind(x,e);if(!t.options.hasTouch){t._unbind(T)}if(t.options.useTransition)t._unbind(N);if(t.options.checkDOMChanges)clearInterval(t.checkDOMTime);if(t.options.onDestroy)t.options.onDestroy.call(t)},refresh:function(){var e=this,t,r,i,s,o=0,u=0;if(e.scale<e.options.zoomMin)e.scale=e.options.zoomMin;e.wrapperW=e.wrapper.clientWidth||1;e.wrapperH=e.wrapper.clientHeight||1;e.minScrollY=-e.options.topOffset||0;e.scrollerW=n.round(e.scroller.offsetWidth*e.scale);e.scrollerH=n.round((e.scroller.offsetHeight+e.minScrollY)*e.scale);e.maxScrollX=e.wrapperW-e.scrollerW;e.maxScrollY=e.wrapperH-e.scrollerH+e.minScrollY;e.dirX=0;e.dirY=0;if(e.options.onRefresh)e.options.onRefresh.call(e);e.hScroll=e.options.hScroll&&e.maxScrollX<0;e.vScroll=e.options.vScroll&&(!e.options.bounceLock&&!e.hScroll||e.scrollerH>e.wrapperH);e.hScrollbar=e.hScroll&&e.options.hScrollbar;e.vScrollbar=e.vScroll&&e.options.vScrollbar&&e.scrollerH>e.wrapperH;t=e._offset(e.wrapper);e.wrapperOffsetLeft=-t.left;e.wrapperOffsetTop=-t.top;if(typeof e.options.snap=="string"){e.pagesX=[];e.pagesY=[];s=e.scroller.querySelectorAll(e.options.snap);for(r=0,i=s.length;r<i;r++){o=e._offset(s[r]);o.left+=e.wrapperOffsetLeft;o.top+=e.wrapperOffsetTop;e.pagesX[r]=o.left<e.maxScrollX?e.maxScrollX:o.left*e.scale;e.pagesY[r]=o.top<e.maxScrollY?e.maxScrollY:o.top*e.scale}}else if(e.options.snap){e.pagesX=[];while(o>=e.maxScrollX){e.pagesX[u]=o;o=o-e.wrapperW;u++}if(e.maxScrollX%e.wrapperW)e.pagesX[e.pagesX.length]=e.maxScrollX-e.pagesX[e.pagesX.length-1]+e.pagesX[e.pagesX.length-1];o=0;u=0;e.pagesY=[];while(o>=e.maxScrollY){e.pagesY[u]=o;o=o-e.wrapperH;u++}if(e.maxScrollY%e.wrapperH)e.pagesY[e.pagesY.length]=e.maxScrollY-e.pagesY[e.pagesY.length-1]+e.pagesY[e.pagesY.length-1]}e._scrollbar("h");e._scrollbar("v");if(!e.zoomed){e.scroller.style[a]="0";e._resetPos(400)}},scrollTo:function(e,t,n,r){var i=this,s=e,o,u;i.stop();if(!s.length)s=[{x:e,y:t,time:n,relative:r}];for(o=0,u=s.length;o<u;o++){if(s[o].relative){s[o].x=i.x-s[o].x;s[o].y=i.y-s[o].y}i.steps.push({x:s[o].x,y:s[o].y,time:s[o].time||0})}i._startAni()},scrollToElement:function(e,t){var r=this,i;e=e.nodeType?e:r.scroller.querySelector(e);if(!e)return;i=r._offset(e);i.left+=r.wrapperOffsetLeft;i.top+=r.wrapperOffsetTop;i.left=i.left>0?0:i.left<r.maxScrollX?r.maxScrollX:i.left;i.top=i.top>r.minScrollY?r.minScrollY:i.top<r.maxScrollY?r.maxScrollY:i.top;t=t===undefined?n.max(n.abs(i.left)*2,n.abs(i.top)*2):t;r.scrollTo(i.left,i.top,t)},scrollToPage:function(e,t,n){var r=this,i,s;n=n===undefined?400:n;if(r.options.onScrollStart)r.options.onScrollStart.call(r);if(r.options.snap){e=e=="next"?r.currPageX+1:e=="prev"?r.currPageX-1:e;t=t=="next"?r.currPageY+1:t=="prev"?r.currPageY-1:t;e=e<0?0:e>r.pagesX.length-1?r.pagesX.length-1:e;t=t<0?0:t>r.pagesY.length-1?r.pagesY.length-1:t;r.currPageX=e;r.currPageY=t;i=r.pagesX[e];s=r.pagesY[t]}else{i=-r.wrapperW*e;s=-r.wrapperH*t;if(i<r.maxScrollX)i=r.maxScrollX;if(s<r.maxScrollY)s=r.maxScrollY}r.scrollTo(i,s,n)},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(E,e);this._unbind(S,e);this._unbind(x,e)},enable:function(){this.enabled=true},stop:function(){if(this.options.useTransition)this._unbind(N);else k(this.aniTime);this.steps=[];this.moved=false;this.animating=false},zoom:function(e,t,n,r){var i=this,s=n/i.scale;if(!i.options.useTransform)return;i.zoomed=true;r=r===undefined?200:r;e=e-i.wrapperOffsetLeft-i.x;t=t-i.wrapperOffsetTop-i.y;i.x=e-e*s+i.x;i.y=t-t*s+i.y;i.scale=n;i.refresh();i.x=i.x>0?0:i.x<i.maxScrollX?i.maxScrollX:i.x;i.y=i.y>i.minScrollY?i.minScrollY:i.y<i.maxScrollY?i.maxScrollY:i.y;i.scroller.style[a]=r+"ms";i.scroller.style[o]="translate("+i.x+"px,"+i.y+"px) scale("+n+")"+L;i.zoomed=false},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};r=null;if(typeof exports!=="undefined")exports.iScroll=A;else e.iScroll=A})(window,document);include.setCurrent({id:"compo.scroller",namespace:"compo.scroller",url:""});include.js("iscroll-full.js").done(function(){mask.registerHandler("scroller",Class({Base:Compo,DOMInsert:function(){if(this.scroller==null)this.scroller=new iScroll(this.$[0],{vScrollbar:true,hScrollbar:true})},render:function(e,t,n){this.tagName="div";var r=(this.attr.class?this.attr.class+" ":"")+"scroller-container";this.attr.class="scroller";this.nodes={tagName:"div",attr:{"class":r},nodes:this.nodes};Compo.prototype.render.call(this,e,t,n);Compo.events.on(this,"DOMInsert",this.DOMInsert);return this},dispose:function(){if(this.scroller)this.scroller.destroy()}}))});include.setCurrent({id:"compo.prism/prism.lib.js",namespace:"undefined",url:"prism.lib.js"});(function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={languages:{insertBefore:function(e,n,r,i){i=i||t.languages;var s=i[e],o={};for(var u in s)if(s.hasOwnProperty(u)){if(u==n)for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);o[u]=s[u]}return i[e]=o},DFS:function(e,n){for(var r in e){n.call(e,r,e[r]);Object.prototype.toString.call(e)==="[object Object]"&&t.languages.DFS(e[r],n)}}},highlightAll:function(e,n){var r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code');for(var i=0,s;s=r[i++];)t.highlightElement(s,e===!0,n)},highlightElement:function(r,i,s){var o,u,a=r;while(a&&!e.test(a.className))a=a.parentNode;if(a){o=(a.className.match(e)||[,""])[1];u=t.languages[o]}if(!u)return;r.className=r.className.replace(e,"").replace(/\s+/g," ")+" language-"+o;a=r.parentNode;/pre/i.test(a.nodeName)&&(a.className=a.className.replace(e,"").replace(/\s+/g," ")+" language-"+o);var f=r.textContent.trim();if(!f)return;f=f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00a0/g," ");var l={element:r,language:o,grammar:u,code:f};t.hooks.run("before-highlight",l);if(i&&self.Worker){var c=new Worker(t.filename);c.onmessage=function(e){l.highlightedCode=n.stringify(JSON.parse(e.data));l.element.innerHTML=l.highlightedCode;s&&s.call(l.element);t.hooks.run("after-highlight",l)};c.postMessage(JSON.stringify({language:l.language,code:l.code}))}else{l.highlightedCode=t.highlight(l.code,l.grammar);l.element.innerHTML=l.highlightedCode;s&&s.call(r);t.hooks.run("after-highlight",l)}},highlight:function(e,r){return n.stringify(t.tokenize(e,r))},tokenize:function(e,n){var r=t.Token,i=[e],s=n.rest;if(s){for(var o in s)n[o]=s[o];delete n.rest}e:for(var o in n){if(!n.hasOwnProperty(o)||!n[o])continue;var u=n[o],a=u.inside,f=!!u.lookbehind||0;u=u.pattern||u;for(var l=0;l<i.length;l++){var c=i[l];if(i.length>e.length)break e;if(c instanceof r)continue;u.lastIndex=0;var h=u.exec(c);if(h){f&&(f=h[1].length);var p=h.index-1+f,h=h[0].slice(f),d=h.length,v=p+d,m=c.slice(0,p+1),g=c.slice(v+1),y=[l,1];m&&y.push(m);var b=new r(o,a?t.tokenize(h,a):h);y.push(b);g&&y.push(g);Array.prototype.splice.apply(i,y)}}}return i},hooks:{all:{},add:function(e,n){var r=t.hooks.all;r[e]=r[e]||[];r[e].push(n)},run:function(e,n){var r=t.hooks.all[e];if(!r||!r.length)return;for(var i=0,s;s=r[i++];)s(n)}}},n=t.Token=function(e,t){this.type=e;this.content=t};n.stringify=function(e){if(typeof e=="string")return e;if(Object.prototype.toString.call(e)=="[object Array]"){for(var r=0;r<e.length;r++)e[r]=n.stringify(e[r]);return e.join("")}var i={type:e.type,content:n.stringify(e.content),tag:"span",classes:["token",e.type],attributes:{}};i.type=="comment"&&(i.attributes.spellcheck="true");t.hooks.run("wrap",i);var s="";for(var o in i.attributes)s+=o+'="'+(i.attributes[o]||"")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'" '+s+">"+i.content+"</"+i.tag+">"};if(!self.document){self.addEventListener("message",function(e){var n=JSON.parse(e.data),r=n.language,i=n.code;self.postMessage(JSON.stringify(t.tokenize(i,t.languages[r])));self.close()},!1);return}var r=document.getElementsByTagName("script");r=r[r.length-1];if(r){t.filename=r.src;document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)}})();Prism.languages.markup={comment:/&lt;!--[\w\W]*?--(&gt;|&gt;)/g,prolog:/&lt;\?.+?\?&gt;/,doctype:/&lt;!DOCTYPE.+?&gt;/,cdata:/&lt;!\[CDATA\[[\w\W]+?]]&gt;/i,tag:{pattern:/&lt;\/?[\w:-]+\s*[\w\W]*?&gt;/gi,inside:{tag:{pattern:/^&lt;\/?[\w:-]+/i,inside:{punctuation:/^&lt;\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(('|")[\w\W]*?(\2)|[^\s>]+)/gi,inside:{punctuation:/=/g}},punctuation:/\/?&gt;/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},entity:/&amp;#?[\da-z]{1,8};/gi};Prism.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.replace(/&amp;/,"&"))});Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:/@[\w-]+?(\s+.+)?(?=\s*{|\s*;)/gi,url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\}]*(?=\s*\{)/g,property:/(\b|\B)[a-z-]+(?=\s*:)/ig,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,ignore:/&(lt|gt|amp);/gi,punctuation:/[\{\};:]/g};Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{style:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/style(>|&gt;)/ig,inside:{tag:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)|(&lt;|<)\/style(>|&gt;)/ig,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css}}});Prism.languages.javascript={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|\/\/.*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0},keyword:/\b(var|let|if|else|while|do|for|return|in|instanceof|function|new|with|typeof|try|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,number:/\b-?(0x)?\d*\.?\d+\b/g,operator:/[-+]{1,2}|!|=?&lt;|=?&gt;|={1,2}|(&amp;){1,2}|\|?\||\?|\*|\//g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g};Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/script(>|&gt;)/ig,inside:{tag:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)|(&lt;|<)\/script(>|&gt;)/ig,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript}}});(function(){if(!window.Prism)return;var e=/\b([a-z]{3,7}:\/\/|tel:)[\w-+%~/.]+/,t=/\b\S+@[\w.]+[a-z]{2}/,n=/\[([^\]]+)]\(([^)]+)\)/,r=["comment","url","attr-value","string"];for(var i in Prism.languages){var s=Prism.languages[i];Prism.languages.DFS(s,function(i,s){if(r.indexOf(i)>-1){s.pattern||(s=this[i]={pattern:s});s.inside=s.inside||{};i=="comment"&&(s.inside["md-link"]=n);s.inside["url-link"]=e;s.inside["email-link"]=t}});s["url-link"]=e;s["email-link"]=t}Prism.hooks.add("wrap",function(e){if(/-link$/.test(e.type)){e.tag="a";var t=e.content;if(e.type=="email-link")t="mailto:"+t;else if(e.type=="md-link"){var r=e.content.match(n);t=r[2];e.content=r[1]}e.attributes.href=t}})})();include.setCurrent({id:"compo.prism",namespace:"compo.prism",url:""});include.js("prism.lib.js").css("prism.lib.css").done(function(){mask.registerHandler("prism",Class({Base:Compo,Construct:function(){this.attr={language:"javascript"}},render:function(e,t,n){this.tagName="pre";var r="language-"+this.attr.language;this.attr.class=r+" "+(this.attr.class||"");this.nodes={tagName:"code",attr:{"class":r},nodes:this.nodes};Compo.prototype.render.call(this,e,t,n);if(this.attr.src!=null){window.include.ajax(this.attr.src).done(function(e){this.$.find("code").html(e.ajax[0]);this._highlight()}.bind(this))}else{this._highlight()}},_highlight:function(){Prism.highlightElement(this.$.find("code").get(0));var e=Compo.find(this,"scroller","up");e&&(e=e.scroller)&&e.refresh()}}))});include.setCurrent({id:"controller.viewsManager",namespace:"controller.viewsManager",url:""});include.lazy({"ruqq.animation":{framework:"animation"}}).done(function(){var e={doSwitch:function(e,t){e.removeClass("active");t.addClass("active");var n=ruqq.info.cssprefix;ruqq.animate({element:t,prop:n+"transform",from:"translate3d(0px, -110%, 0px)",to:"translate3d(0px, 0px, 0px)",duration:300,timing:"cubic-bezier(.58,1.54,.59,.75)"})}};window.ViewsManager=Class({Base:Compo,Construct:function(){window.viewsManager=this},render:function(e,t,n){this.nodes=mask.compile('list value="views" > view;');this.tagName="div";Compo.prototype.render.call(this,e,t,n)},load:function(t){var n=Compo.findCompo(app,"pageActivity");n.show();var r=t.replace("View","");window.include.js({controller:r+"/"+r}).done(function(){this.append("view;",{id:t});n.hide();var r=Compo.findCompo(this,t);if(r==null){console.error("Cannt be loaded",t);return}if(this.$)e.doSwitch(this.$.children(".active"),r.$.parent());r.activate&&r.activate()}.bind(this))},show:function(t){var n=Compo.findCompo(this,t);if(n==null){console.log("is null",this,t);this.load(t);return}if(this.$)e.doSwitch(this.$.children(".active"),n.$.parent());n.activate&&n.activate()}});mask.registerHandler("viewsManager",ViewsManager)});include.setCurrent({id:"controller.view",namespace:"controller.view",url:""});include.css("view.css").done(function(){mask.registerHandler("view",Class({Base:Compo,Construct:function(){this.attr={"class":"view"}},render:function(e,t,n){this.tagName="div";if(e.id)this.attr.id=e.id;if(e.active)this.attr.class+=" active";this.nodes={tagName:e.id};console.log("render view",e.id);Compo.prototype.render.apply(this,arguments)}}))});include.setCurrent({id:"uicontrol.radioButtons",namespace:"uicontrol.radioButtons",url:""});mask.registerHandler("radioButtons",Class({Base:Compo,Construct:function(){this.on("button:not(.active)",function(e){var t=$(e.target);t.parent().children(".active").removeClass("active");t.addClass("active");this.$.trigger("changed",e.target)}.bind(this))},render:function(){this.tagName="div";this.attr.class="radioButtons "+(this.attr.class||"");Compo.prototype.render.apply(this,arguments)}}));include.setCurrent({id:"uicontrol.pageActivity",namespace:"uicontrol.pageActivity",url:""});void function(){var e=ruqq.info,t=null,n=function(){t={TransitionProperty:e.prefix+"TransitionProperty",Transform:e.prefix+"Transform",Transition:e.prefix+"Transition",cssTransform:e.cssprefix+"transform"}};var r=Class({Base:Compo,render:function(t,n,r){this.currentPos=0;this.tagName="div";var i={width:32,height:32,image:"",top:"50%",left:"50%",marginLeft:-16,marginTop:-16};Object.defaults(this.attr,i);this.attr.marginTop=this.attr.height/-2;this.attr.marginLeft=this.attr.width/-2;if(e.supportTransitions){this.attr.image=this.attr.image.replace(".png","-single.png")}var s=["width:#{width}px;","height:#{height}px;","background:url(#{image}) 0 0 no-repeat;","position:fixed;","top:#{top};","left:#{left};","margin-left:#{marginLeft}px;","margin-top:#{marginTop}px;","z-index:9999999;","display:none;"];this.attr.style=String.format(s.join(""),this.attr);Object.clear(this.attr,i);Compo.prototype.render.call(this,t,n,r)},start:function(){if(this.interval)return;var r=this.$.get(0).style;if(e.supportTransitions){if(t==null)n();r[t.TransitionProperty]="none";r[t.Transform]="rotate(0deg)";setTimeout(function(){r[t.Transition]=t.cssTransform+" 5s linear";r[t.Transform]="rotate(720deg)"},1);this.interval=setInterval(function(){r[t.TransitionProperty]="none";r[t.Transform]="rotate(0deg)";setTimeout(function(){r[t.Transition]=t.cssTransform+" 5s linear";r[t.Transform]="rotate(720deg)"},0)},5e3)}else{this.interval=setInterval(function(){this.currentPos+=this.data.height;if(this.currentPos>this.data.height*this.data.frames-1){this.currentPos=0}this.$.css("background-position","0px -"+this.currentPos+"px")}.bind(this),this.data.fps?1e3/this.data.fps:100)}},stop:function(){if(e.supportTransitions){var n=this.$.get(0).style;n[t.TransitionProperty]="none";n[t.Transform]="rotate(0deg)"}if(this.interval==null){console.warn("Stop spinner but interval is null !!!");return}clearInterval(this.interval);this.interval=null},show:function(){this.start();this.$.show();return this},hide:function(){this.stop();this.$.hide();return this},isActive:function(){return this.interval!=null}});mask.registerHandler("spinner",r);mask.registerHandler("pageActivity",Class({Base:Compo,Construct:function(){this.compos={spinner:"compo: spinner"}},render:function(){this.tagName="div";this.attr.style="position:fixed; top:0px; left:0px; right: 0px; bottom:0px;background:rgba(0,0,0,.5);display:none;";this.nodes={tagName:"spinner",attr:{image:"images/128x128_spinner.png",width:128,height:128,frames:12}};Compo.prototype.render.apply(this,arguments)},show:function(){this.$.show();this.compos.spinner.show()},hide:function(){this.$.hide();this.compos.spinner.hide()}}))}();include.setCurrent({id:"/script/main.js",namespace:"undefined",url:"script/main.js"});window.onerror=function(e,t,n){console.error(arguments,typeof t.stack)};include.cfg({lockedToFolder:true,controller:"/script/component/{name}.js",uicontrol:"/script/control/{name}.js"}).js({framework:["dom/zepto","ruqq.base","utils","animation"],lib:"compo"}).wait().js({compo:["scroller","prism"],controller:["viewsManager","view"],uicontrol:["radioButtons","pageActivity"]}).ready(function(){console.log("main.done");mask.registerHandler("html",Class({render:function(e,t){var n=null;if(this.attr.source!=null)n=document.getElementById(this.attr.source).innerHTML;if(this.nodes&&this.nodes.content!=null)n=this.nodes.content;var r=document.createElement("div");r.innerHTML=n;for(var i in this.attr){r.setAttribute(i,this.attr[i])}t.appendChild(r)}}));var e=window,t={scrollerView:{name:"Scroller"},prismView:{name:"Prism"},formsView:{name:"Forms"},aboutView:{name:"About"},classView:{name:"ClassJS"},maskView:{name:"MaskJS"},includeView:{name:"IncludeJS"},includeBuilderView:{name:"IncludeJS.Builder"},compoView:{name:"CompoJS"}},n=function(e,n){var r=[];if(e==null)e=Object.keys(t);for(var i=0;i<e.length;i++)r.push(n(e[i],t[e[i]]));return r};var r={libraries:n(["classView","maskView","includeView","includeBuilderView","compoView"],function(e,t){return{id:e,name:t.name}}),components:n(["scrollerView","prismView"],function(e,t){return{id:e,name:t.name}})};Compo.config.setDOMLibrary($);e.app=new(Class({Base:Compo,attr:{template:"#layout"},events:{"click: menu li":function(t){var n=$(t.target).data("view");viewsManager.show(n);e.location.hash=n.replace("View","")}}}));e.app.render(r).insert(document.body);var i=(window.location.hash||"").substring(1);if(i+"View"in t==false)i=null;viewsManager.show((i||"about")+"View")})